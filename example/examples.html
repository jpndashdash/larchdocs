

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Examples &mdash; Larch 5.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/larch_favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/larch_rtfd.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MTC Examples" href="mtc.html" />
    <link rel="prev" title="Using Scikit-Learn within Larch" href="../machine-learning/prelearn.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Larch
          

          
          </a>

          
            
            
              <div class="version">
                5.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math.html">Mathematics of Logit Choice Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine-learning/index.html">Machine Learning</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mtc.html">MTC Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="swissmetro.html">Swissmetro Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="exampville.html">Exampville Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="itinerary.html">Itinerary Choice Examples</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Larch</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/example/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="examples">
<span id="id1"></span><h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>Here we provide some illustrative examples.
You can reproduce all of these examples in your own install of Larch,
as all of the example data is included with the standard distribution.
To work with any objects you find in the examples, a handy function
is provided to extract that object directly into your workspace:</p>
<dl class="function">
<dt id="larch.example">
<code class="descclassname">larch.</code><code class="descname">example</code><span class="sig-paren">(</span><em>n</em>, <em>extract='m'</em>, <em>echo=False</em>, <em>output_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an example code section (from the documentation) and give the result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of the example to reproduce.</li>
<li><strong>extract</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The name of the object of the example to extract.  By default <cite>m</cite>
but it any named object that exists in the example namespace can
be returned.  Give a sequence of <cite>str</cite> to get multiple objects.</li>
<li><strong>echo</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, will echo the commands used.</li>
<li><strong>output_file</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – If given, check whether this named file exists.  If so,
return the filename, otherwise run the example code section
(which should as a side effect create this file).  Then
check that the file now exists, raising a FileNotFoundError
if it still does not exist.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mtc.html">MTC Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="000_mtc_data.html">MTC Work Mode Choice Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="001_mtc.html">1: MTC MNL Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_mtc.html">2: MTC MNL Mode Choice, Motorized</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_mtc.html">3: MTC MNL Mode Choice, Zeroed Shared</a></li>
<li class="toctree-l2"><a class="reference internal" href="005_mtc.html">5: MTC MNL Mode Choice, Motorized Travel Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="006_mtc.html">6: MTC MNL Mode Choice, Motorized Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="007_mtc.html">7: MTC MNL Mode Choice, Diminishing OVTT by Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="008_mtc.html">8: MTC MNL Mode Choice, TTR = 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="009_mtc.html">9: MTC MNL Mode Choice, TTR = 4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="010_mtc.html">10: MTC MNL Mode Choice, Autos per Household</a></li>
<li class="toctree-l2"><a class="reference internal" href="011_mtc.html">11: MTC MNL Mode Choice, Vehicle by Worker</a></li>
<li class="toctree-l2"><a class="reference internal" href="012_mtc.html">12: MTC MNL Mode Choice, Autos per Adult</a></li>
<li class="toctree-l2"><a class="reference internal" href="013_mtc.html">13: MTC MNL Mode Choice, CBD</a></li>
<li class="toctree-l2"><a class="reference internal" href="014_mtc.html">14: MTC MNL Mode Choice, Work Zone Density</a></li>
<li class="toctree-l2"><a class="reference internal" href="015_mtc.html">15: MTC MNL Mode Choice, CBD and Work Zone Density</a></li>
<li class="toctree-l2"><a class="reference internal" href="016_mtc.html">16: MTC MNL Mode Choice, Cost by Income</a></li>
<li class="toctree-l2"><a class="reference internal" href="017A_mtc.html">17A: MTC MNL Mode Choice, Segmented for 1 or fewer cars</a></li>
<li class="toctree-l2"><a class="reference internal" href="017B_mtc.html">17B: MTC MNL Mode Choice, Segmented for 2 or more cars</a></li>
<li class="toctree-l2"><a class="reference internal" href="017C_mtc.html">17C: MTC MNL Mode Choice, Segmented for Males</a></li>
<li class="toctree-l2"><a class="reference internal" href="017D_mtc.html">17D: MTC MNL Mode Choice, Segmented for Females</a></li>
<li class="toctree-l2"><a class="reference internal" href="017_mtc.html">17: MTC Expanded MNL Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="018_mtc.html">18: MTC Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="019_mtc.html">19: MTC Private Auto Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="020_mtc.html">20: MTC Shared Ride Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="021_mtc.html">21: MTC Non-Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="022_mtc.html">22: MTC Motorized and Non-Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="023_mtc.html">23W: MTC Private Auto - Non-Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="024_mtc.html">23W: MTC Shared Ride - Non-Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="025_mtc.html">25: MTC Private Auto - Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="026_mtc.html">26: MTC Shared Ride - Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="027_mtc.html">27: MTC Shared Ride - Private Auto Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="028_mtc.html">28: MTC Motorized - Shared Ride - Non-Motorized Nested Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="029_mtc.html">29: MTC Motorized - Shared Ride - Private Auto Nested Mode Choice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="swissmetro.html">Swissmetro Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="101_mnl.html">101: Swissmetro MNL Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="102_mnl_weighted.html">102: Swissmetro Weighted MNL Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="107_latent_class.html">107: Latent Class Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="107_latent_class.html#Class-Model-Setup">Class Model Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="107_latent_class.html#Class-Membership-Model">Class Membership Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="107_latent_class.html#Latent-Class-Model">Latent Class Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="107_latent_class.html#Reporting-Results">Reporting Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="109_nl.html">109: Swissmetro Nested Logit Mode Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="111_cnl.html">111: Swissmetro Cross-Nested Logit Mode Choice</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exampville.html">Exampville Simulator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="200_exampville.html">200: Exampville Simulated Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#TAZ-Shapefile">TAZ Shapefile</a></li>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#TAZ-Employment-Data">TAZ Employment Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#Skims">Skims</a></li>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#Households">Households</a></li>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#Persons">Persons</a></li>
<li class="toctree-l3"><a class="reference internal" href="200_exampville.html#Tours">Tours</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="201_exville_mode_choice.html">201: Exampville Mode Choice</a><ul>
<li class="toctree-l3"><a class="reference internal" href="201_exville_mode_choice.html#Preprocessing">Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="201_exville_mode_choice.html#Model-Definition">Model Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="201_exville_mode_choice.html#Model-Estimation">Model Estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="201_exville_mode_choice.html#Save-and-Report-Model">Save and Report Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="202_exville_mc_logsums.html">202: Exampville Mode Choice Logsums</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html">203: Exampville Destination Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html#Preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html#Model-Definition">Model Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html#Model-Estimation">Model Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html#Model-Visualization">Model Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="203_exville_dest.html#Save-and-Report-Model">Save and Report Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="itinerary.html">Itinerary Choice Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="300_itinerary.html">300: Itinerary Choice Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="301_itin_mnl.html">301: Itinerary Choice using MNL</a></li>
<li class="toctree-l2"><a class="reference internal" href="302_itin_nl.html">302: Itinerary Choice using Simple Nested Logit</a></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mtc.html" class="btn btn-neutral float-right" title="MTC Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../machine-learning/prelearn.html" class="btn btn-neutral float-left" title="Using Scikit-Learn within Larch" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2019, Jeffrey Newman
      <span class="lastupdated">
        Last updated on Nov 25, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>