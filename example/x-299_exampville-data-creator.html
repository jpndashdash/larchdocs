

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>299: Exampville Simulated Data &mdash; Larch 5.4.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/larch_favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/larch_rtfd.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Larch
          

          
          </a>

          
            
            
              <div class="version">
                5.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math.html">Mathematics of Logit Choice Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine-learning/index.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Larch</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>299: Exampville Simulated Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/example/x-299_exampville-data-creator.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="299:-Exampville-Simulated-Data">
<h1>299: Exampville Simulated Data<a class="headerlink" href="#299:-Exampville-Simulated-Data" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="kn">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="kn">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">larch</span>
<span class="kn">from</span> <span class="nn">more_itertools</span> <span class="kn">import</span> <span class="n">pairwise</span>

<span class="n">larch</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;5.3.5&#39;
</pre></div>
</div>
</div>
<p>Welcome to Exampville, the best simulated town in this here part of the internet!</p>
<p>Exampville is provided with Larch, and uses the kind of data that a transportation planner might have available when building a travel model. However, this data is entirely fictional.</p>
<p>This page walks through the creation of this synthetic data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">seed</span><span class="o">=</span><span class="mi">0</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">larch.exampville</span>
</pre></div>
</div>
</div>
<div class="section" id="Travel-Analysis-Zones">
<h2>Travel Analysis Zones<a class="headerlink" href="#Travel-Analysis-Zones" title="Permalink to this headline">¶</a></h2>
<p>We start with a shape file delineating some travel analysis zones. (Five bonus points if you can identify the real American city from which these tract shapes were derived.)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_shape</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;zip://&quot;</span><span class="o">+</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">shapefile</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab20&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Put Zone labels in the meatiest part of the zone shape...</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">shrink</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">shrink1</span> <span class="o">=</span> <span class="n">shrink</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">shrink1</span><span class="o">.</span><span class="n">area</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">shrink</span> <span class="o">=</span> <span class="n">shrink1</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
        <span class="n">s</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">],</span>
        <span class="n">xy</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">shrink</span><span class="o">.</span><span class="n">representative_point</span><span class="p">()</span><span class="o">.</span><span class="n">coords</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_7_0.png" src="../_images/example_x-299_exampville-data-creator_7_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">higher_income_tazs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">lower_income_tazs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">16</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">nZones</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">taz_shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">zones_cbd</span> <span class="o">=</span> <span class="p">[</span><span class="mi">36</span><span class="p">]</span>
<span class="n">zones_urb</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Households">
<h2>Households<a class="headerlink" href="#Households" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">n_hh</span> <span class="o">=</span> <span class="mi">5000</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">### Group 1: In-town density</span>
<span class="n">n_hh_1</span> <span class="o">=</span> <span class="mi">3500</span>

<span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">650</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span> <span class="mf">0.52</span><span class="p">]</span>
<span class="n">i_y</span> <span class="o">=</span> <span class="mi">80</span>
<span class="n">i_x</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">v_y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">22</span>
<span class="n">v_x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">s_x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">s_y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">22</span>
<span class="n">s_v</span> <span class="o">=</span> <span class="mf">0.21</span>
<span class="n">s_i</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">cov</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">44000</span><span class="p">,</span> <span class="mi">25000</span><span class="p">,</span> <span class="n">i_x</span><span class="p">,</span>  <span class="n">v_x</span><span class="p">,</span>  <span class="n">s_x</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">25000</span><span class="p">,</span> <span class="mi">44000</span><span class="p">,</span> <span class="n">i_y</span><span class="p">,</span>  <span class="n">v_y</span><span class="p">,</span>  <span class="n">s_y</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">i_x</span><span class="p">,</span>   <span class="n">i_y</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.4</span><span class="p">,</span>  <span class="n">s_i</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">v_x</span><span class="p">,</span>   <span class="n">v_y</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">,</span>  <span class="n">s_v</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">s_x</span><span class="p">,</span>   <span class="n">s_y</span><span class="p">,</span> <span class="n">s_i</span><span class="p">,</span>  <span class="n">s_v</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">],</span>
<span class="p">]</span>

<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">income</span><span class="p">,</span> <span class="n">veh</span><span class="p">,</span> <span class="n">hhsz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">n_hh_1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>



<span class="c1"># Assemble into a DataFrame</span>
<span class="n">hh_locations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
    <span class="s1">&#39;INCOME&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">income</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span>
    <span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">veh</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span>
    <span class="s1">&#39;HHSIZE&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">hhsz</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="p">})</span>

<span class="c1"># Convert to a GeoDataFrame</span>
<span class="n">hh_locations</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">hh_locations</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">hh_locations</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">hh_locations</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>

<span class="c1"># Attach HOMETAZ, and drop points outside the region.</span>
<span class="n">hh_locations</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">hh_locations</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations</span><span class="o">.</span><span class="n">HHSIZE</span><span class="o">.</span><span class="n">statistics</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">3169</td></tr><tr><td>minimum</td><td style="text-align:left;">1</td></tr><tr><td>maximum</td><td style="text-align:left;">11</td></tr><tr><td>median</td><td style="text-align:left;">2.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVqQEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLC4WUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ1hmAgAAAAAAAF4FAAAAAAAAmwIAAAAAAABAAQAAAAAAAGwAAAAAAAAALwAAAAAAAAARAAAAAAAAAAoAAAAAAAAACgAAAAAAAAABAAAAAAAAAAEAAAAAAAAAlHSUYowJYmluX2VkZ2VzlGgEaAdLAIWUaAmHlFKUKEsBSwyFlGgRiUNgAAAAAAAAAAABAAAAAAAAAAIAAAAAAAAAAwAAAAAAAAAEAAAAAAAAAAUAAAAAAAAABgAAAAAAAAAHAAAAAAAAAAgAAAAAAAAACQAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAlHSUYowRemVyb3NfYXJlX2Ryb3BwZWSUiYwScmFuZ2VfaXNfdHJ1bmNhdGVklIl1Lg==" range_is_truncated="False" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are purple if the data is represented as discrete values.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p415ee6af5e)" d="M 36.169034 83.457143  L 58.822233 83.457143  L 58.822233 51.002796  L 36.169034 51.002796  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p415ee6af5e)" d="M 64.485532 83.457143  L 87.138731 83.457143  L 87.138731 10.831293  L 64.485532 10.831293  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p415ee6af5e)" d="M 92.802031 83.457143  L 115.455229 83.457143  L 115.455229 48.201363  L 92.802031 48.201363  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p415ee6af5e)" d="M 121.118529 83.457143  L 143.771728 83.457143  L 143.771728 66.542825  L 121.118529 66.542825  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p415ee6af5e)" d="M 149.435027 83.457143  L 172.088226 83.457143  L 172.088226 77.748561  L 149.435027 77.748561  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p415ee6af5e)" d="M 177.751526 83.457143  L 200.404724 83.457143  L 200.404724 80.972852  L 177.751526 80.972852  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p415ee6af5e)" d="M 206.068024 83.457143  L 228.721223 83.457143  L 228.721223 82.55857  L 206.068024 82.55857  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p415ee6af5e)" d="M 234.384522 83.457143  L 257.037721 83.457143  L 257.037721 82.92857  L 234.384522 82.92857  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p415ee6af5e)" d="M 262.701021 83.457143  L 285.354219 83.457143  L 285.354219 82.92857  L 262.701021 82.92857  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_12">
    <path clip-path="url(#p415ee6af5e)" d="M 291.017519 83.457143  L 313.670718 83.457143  L 313.670718 83.404286  L 291.017519 83.404286  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_13">
    <path clip-path="url(#p415ee6af5e)" d="M 319.334017 83.457143  L 341.987216 83.457143  L 341.987216 83.404286  L 319.334017 83.404286  z " style="fill:#6478ba;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m2134c7d139" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="47.495633" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(44.314383 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="75.812132" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(72.630882 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="104.12863" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(100.94738 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="132.445128" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(129.263878 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="160.761627" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(157.580377 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="189.078125" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(185.896875 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="217.394623" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 8.203125 72.90625  L 55.078125 72.90625  L 55.078125 68.703125  L 28.609375 0  L 18.3125 0  L 43.21875 64.59375  L 8.203125 64.59375  z " id="DejaVuSans-55"></path>
      </defs>
      <g transform="translate(214.213373 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-55"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="245.711122" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 31.78125 34.625  Q 24.75 34.625 20.71875 30.859375  Q 16.703125 27.09375 16.703125 20.515625  Q 16.703125 13.921875 20.71875 10.15625  Q 24.75 6.390625 31.78125 6.390625  Q 38.8125 6.390625 42.859375 10.171875  Q 46.921875 13.96875 46.921875 20.515625  Q 46.921875 27.09375 42.890625 30.859375  Q 38.875 34.625 31.78125 34.625  z M 21.921875 38.8125  Q 15.578125 40.375 12.03125 44.71875  Q 8.5 49.078125 8.5 55.328125  Q 8.5 64.0625 14.71875 69.140625  Q 20.953125 74.21875 31.78125 74.21875  Q 42.671875 74.21875 48.875 69.140625  Q 55.078125 64.0625 55.078125 55.328125  Q 55.078125 49.078125 51.53125 44.71875  Q 48 40.375 41.703125 38.8125  Q 48.828125 37.15625 52.796875 32.3125  Q 56.78125 27.484375 56.78125 20.515625  Q 56.78125 9.90625 50.3125 4.234375  Q 43.84375 -1.421875 31.78125 -1.421875  Q 19.734375 -1.421875 13.25 4.234375  Q 6.78125 9.90625 6.78125 20.515625  Q 6.78125 27.484375 10.78125 32.3125  Q 14.796875 37.15625 21.921875 38.8125  z M 18.3125 54.390625  Q 18.3125 48.734375 21.84375 45.5625  Q 25.390625 42.390625 31.78125 42.390625  Q 38.140625 42.390625 41.71875 45.5625  Q 45.3125 48.734375 45.3125 54.390625  Q 45.3125 60.0625 41.71875 63.234375  Q 38.140625 66.40625 31.78125 66.40625  Q 25.390625 66.40625 21.84375 63.234375  Q 18.3125 60.0625 18.3125 54.390625  z " id="DejaVuSans-56"></path>
      </defs>
      <g transform="translate(242.529872 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-56"></use>
      </g>
     </g>
    </g>
    <g id="xtick_9">
     <g id="line2d_9">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="274.02762" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_9">

      <defs>
       <path d="M 10.984375 1.515625  L 10.984375 10.5  Q 14.703125 8.734375 18.5 7.8125  Q 22.3125 6.890625 25.984375 6.890625  Q 35.75 6.890625 40.890625 13.453125  Q 46.046875 20.015625 46.78125 33.40625  Q 43.953125 29.203125 39.59375 26.953125  Q 35.25 24.703125 29.984375 24.703125  Q 19.046875 24.703125 12.671875 31.3125  Q 6.296875 37.9375 6.296875 49.421875  Q 6.296875 60.640625 12.9375 67.421875  Q 19.578125 74.21875 30.609375 74.21875  Q 43.265625 74.21875 49.921875 64.515625  Q 56.59375 54.828125 56.59375 36.375  Q 56.59375 19.140625 48.40625 8.859375  Q 40.234375 -1.421875 26.421875 -1.421875  Q 22.703125 -1.421875 18.890625 -0.6875  Q 15.09375 0.046875 10.984375 1.515625  z M 30.609375 32.421875  Q 37.25 32.421875 41.125 36.953125  Q 45.015625 41.5 45.015625 49.421875  Q 45.015625 57.28125 41.125 61.84375  Q 37.25 66.40625 30.609375 66.40625  Q 23.96875 66.40625 20.09375 61.84375  Q 16.21875 57.28125 16.21875 49.421875  Q 16.21875 41.5 20.09375 36.953125  Q 23.96875 32.421875 30.609375 32.421875  z " id="DejaVuSans-57"></path>
      </defs>
      <g transform="translate(270.84637 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-57"></use>
      </g>
     </g>
    </g>
    <g id="xtick_10">
     <g id="line2d_10">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="302.344118" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_10">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(295.981618 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_11">
     <g id="line2d_11">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="330.660617" y="83.457143" xlink:href="#m2134c7d139"></use>
      </g>
     </g>
     <g id="text_11">

      <g transform="translate(324.298117 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_12">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_16">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_17">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p415ee6af5e">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">2.4534553486904387</td></tr><tr><td>stdev</td><td style="text-align:left;">1.262786875252692</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">3169</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">11</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">2.4534553486904387</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">1.262786875252692</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>
    <span class="n">hh_locations</span><span class="p">,</span>
    <span class="n">index</span><span class="o">=</span><span class="s1">&#39;HHSIZE&#39;</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="s1">&#39;size&#39;</span><span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="10" halign="left">X</th>
    </tr>
    <tr>
      <th>N_VEHICLES</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>9</th>
      <th>15</th>
    </tr>
    <tr>
      <th>HHSIZE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>363</td>
      <td>220</td>
      <td>29</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>402</td>
      <td>712</td>
      <td>202</td>
      <td>45</td>
      <td>10</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>75</td>
      <td>330</td>
      <td>164</td>
      <td>60</td>
      <td>23</td>
      <td>10</td>
      <td>4</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>15</td>
      <td>123</td>
      <td>99</td>
      <td>42</td>
      <td>28</td>
      <td>9</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1</td>
      <td>37</td>
      <td>29</td>
      <td>25</td>
      <td>8</td>
      <td>1</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>7</td>
      <td>18</td>
      <td>12</td>
      <td>7</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2</td>
      <td>5</td>
      <td>3</td>
      <td>5</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">hh_locations</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;INCOME&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">150000</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_16_0.png" src="../_images/example_x-299_exampville-data-creator_16_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">hh_locations</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_17_0.png" src="../_images/example_x-299_exampville-data-creator_17_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations</span><span class="o">.</span><span class="n">INCOME</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">3169</td></tr><tr><td>minimum</td><td style="text-align:left;">1159</td></tr><tr><td>maximum</td><td style="text-align:left;">1495622</td></tr><tr><td>median</td><td style="text-align:left;">58545.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVrgEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ0jGBgAAAAAAAAMDAAAAAAAANwEAAAAAAACbAAAAAAAAAEoAAAAAAAAAKQAAAAAAAAAaAAAAAAAAAAsAAAAAAAAADgAAAAAAAACUdJRijAliaW5fZWRnZXOUaARoB0sAhZRoCYeUUpQoSwFLCoWUaA6MAmY4lEsASwGHlFKUKEsDaBJOTk5K/////0r/////SwB0lGKJQ1AAAAAAABySQLImnhXN3e9AsiaeFV2V/0AGnTbQ6Z0HQbImnhUlcQ9BL9iCLTCiE0EGnTbQzYsXQdxh6nJrdRtBsiaeFQlfH0HE9ShcU6QhQZR0lGKMEXplcm9zX2FyZV9kcm9wcGVklImMEnJhbmdlX2lzX3RydW5jYXRlZJRLAXUu" range_is_truncated="1" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.033472 107.335268" width="364.033472pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are green if the displayed range truncates some extreme outliers.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.033472 107.335268  L 364.033472 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 341.247497 83.457143  L 341.247497 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p4742db92e3)" d="M 35.440369 83.457143  L 67.800912 83.457143  L 67.800912 10.831293  L 35.440369 10.831293  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p4742db92e3)" d="M 67.800912 83.457143  L 100.161454 83.457143  L 100.161454 51.165026  L 67.800912 51.165026  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p4742db92e3)" d="M 100.161454 83.457143  L 132.521997 83.457143  L 132.521997 70.431399  L 100.161454 70.431399  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p4742db92e3)" d="M 132.521997 83.457143  L 164.88254 83.457143  L 164.88254 76.965213  L 132.521997 76.965213  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p4742db92e3)" d="M 164.88254 83.457143  L 197.243082 83.457143  L 197.243082 80.35777  L 164.88254 80.35777  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p4742db92e3)" d="M 197.243082 83.457143  L 229.603625 83.457143  L 229.603625 81.739923  L 197.243082 81.739923  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p4742db92e3)" d="M 229.603625 83.457143  L 261.964167 83.457143  L 261.964167 82.368174  L 229.603625 82.368174  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p4742db92e3)" d="M 261.964167 83.457143  L 294.32471 83.457143  L 294.32471 82.996425  L 261.964167 82.996425  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p4742db92e3)" d="M 294.32471 83.457143  L 326.685253 83.457143  L 326.685253 82.870775  L 294.32471 82.870775  z " style="fill:#27b67b;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m3e73b99b93" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="34.855285" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(31.674035 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="85.337066" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(66.249566 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="135.818848" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(116.731348 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="186.300629" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(167.213129 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="236.78241" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(217.69491 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="287.264191" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(268.176691 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="337.745972" y="83.457143" xlink:href="#m3e73b99b93"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(318.658472 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_8">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_12">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_13">
    <path d="M 341.247497 83.457143  L 341.247497 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 341.247497 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 20.878125 7.2  L 341.247497 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p4742db92e3">
   <rect height="76.257143" width="320.369372" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">94789.0766803408</td></tr><tr><td>stdev</td><td style="text-align:left;">118463.08967258588</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">3169</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1159</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">1495622</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">94789.0766803408</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">118463.08967258588</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>INCOME</th>
      <th>N_VEHICLES</th>
      <th>HHSIZE</th>
      <th>geometry</th>
      <th>index_right</th>
      <th>TAZ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>361.35</td>
      <td>33.34</td>
      <td>6026</td>
      <td>1</td>
      <td>4</td>
      <td>POINT (361.350 33.340)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>112</th>
      <td>272.08</td>
      <td>30.77</td>
      <td>30538</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (272.080 30.770)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>156</th>
      <td>424.18</td>
      <td>72.55</td>
      <td>24131</td>
      <td>1</td>
      <td>1</td>
      <td>POINT (424.180 72.550)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>160</th>
      <td>464.48</td>
      <td>61.30</td>
      <td>34838</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (464.480 61.300)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>186</th>
      <td>328.95</td>
      <td>129.36</td>
      <td>29337</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (328.950 129.360)</td>
      <td>21</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Group 2: Regional base population</span>

<span class="n">n_hh_2</span> <span class="o">=</span> <span class="n">n_hh</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">hh_locations</span><span class="p">)</span> <span class="c1"># Enough to get back to the desired total</span>

<span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">650</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">20000</span><span class="p">,</span> <span class="mf">0.45</span><span class="p">,</span> <span class="mf">0.52</span><span class="p">]</span>
<span class="n">i_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">i_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">v_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">v_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">s_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">s_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">v_i</span> <span class="o">=</span> <span class="mi">846</span>
<span class="n">s_v</span> <span class="o">=</span> <span class="mf">0.28</span>
<span class="n">s_i</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">cov</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">44000</span><span class="p">,</span>     <span class="mi">0</span><span class="p">,</span>    <span class="n">i_x</span><span class="p">,</span>  <span class="n">v_x</span><span class="p">,</span>  <span class="n">s_x</span><span class="p">],</span>
    <span class="p">[</span>    <span class="mi">0</span><span class="p">,</span> <span class="mi">44000</span><span class="p">,</span>    <span class="n">i_y</span><span class="p">,</span>  <span class="n">v_y</span><span class="p">,</span>  <span class="n">s_y</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">i_x</span><span class="p">,</span>   <span class="n">i_y</span><span class="p">,</span><span class="mi">9000000</span><span class="p">,</span>  <span class="n">v_i</span><span class="p">,</span>  <span class="n">s_i</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">v_x</span><span class="p">,</span>   <span class="n">v_y</span><span class="p">,</span>    <span class="n">v_i</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span>  <span class="n">s_v</span><span class="p">],</span>
    <span class="p">[</span>  <span class="n">s_x</span><span class="p">,</span>   <span class="n">s_y</span><span class="p">,</span>    <span class="n">s_i</span><span class="p">,</span>  <span class="n">s_v</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">n_hh_2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>


<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n_hh_2</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n_hh_2</span><span class="p">)</span><span class="o">*</span><span class="mi">800</span>
<span class="c1"># i2 = np.exp(np.random.random(n_hh_2)*3+8).astype(int)</span>
<span class="c1"># v2 = np.exp(np.random.random(n_hh_2)*1.3)</span>
<span class="c1"># s2 = v2 + np.exp(np.random.random(n_hh_2)*0.3)</span>

<span class="c1"># Assemble into a DataFrame</span>
<span class="n">hh_locations2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">y2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
    <span class="s1">&#39;INCOME&#39;</span><span class="p">:(</span><span class="n">i2</span><span class="p">),</span>
    <span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span>
    <span class="s1">&#39;HHSIZE&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span>
<span class="p">})</span>

<span class="c1"># Convert to a GeoDataFrame</span>
<span class="n">hh_locations2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">hh_locations2</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">hh_locations2</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">hh_locations2</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>

<span class="c1"># Attach HOMETAZ</span>
<span class="n">hh_locations2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">hh_locations2</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>INCOME</th>
      <th>N_VEHICLES</th>
      <th>HHSIZE</th>
      <th>geometry</th>
      <th>index_right</th>
      <th>TAZ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>266.54</td>
      <td>78.10</td>
      <td>21851.702304</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (266.540 78.100)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>10</th>
      <td>284.48</td>
      <td>123.81</td>
      <td>22175.696585</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (284.480 123.810)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>19</th>
      <td>329.07</td>
      <td>93.00</td>
      <td>23665.459873</td>
      <td>4</td>
      <td>6</td>
      <td>POINT (329.070 93.000)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>26</th>
      <td>350.79</td>
      <td>133.95</td>
      <td>20651.496338</td>
      <td>1</td>
      <td>3</td>
      <td>POINT (350.790 133.950)</td>
      <td>21</td>
      <td>22</td>
    </tr>
    <tr>
      <th>41</th>
      <td>392.46</td>
      <td>100.41</td>
      <td>15006.766402</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (392.460 100.410)</td>
      <td>21</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations2</span><span class="o">.</span><span class="n">INCOME</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">1831</td></tr><tr><td>minimum</td><td style="text-align:left;">9091.694830180175</td></tr><tr><td>maximum</td><td style="text-align:left;">30655.565862265605</td></tr><tr><td>median</td><td style="text-align:left;">20061.641663502065</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVzgEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLC4WUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ1gFAAAAAAAAAAwAAAAAAAAAPQAAAAAAAAC4AAAAAAAAAGABAAAAAAAACQIAAAAAAAB2AQAAAAAAANYAAAAAAAAAUgAAAAAAAAAUAAAAAAAAAAYAAAAAAAAAlHSUYowJYmluX2VkZ2VzlGgEaAdLAIWUaAmHlFKUKEsBSwyFlGgOjAJmOJRLAEsBh5RSlChLA2gSTk5OSv////9K/////0sAdJRiiUNgEAIy8NjBwUBG5KX7BZbFQH3GGQczaslAtKiNEmA+zUB1xQCPRonQQJC2uhRdc9JArKd0mnNd1EDHmC4gikfWQOKJ6KWgMdhA/XqiK7cb2kAYbFyxzQXcQDRdFjfk791AlHSUYowRemVyb3NfYXJlX2Ryb3BwZWSUiYwScmFuZ2VfaXNfdHJ1bmNhdGVklEsAdS4=" range_is_truncated="0" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title></title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p899fcdf752)" d="M 36.169034 83.457143  L 63.970687 83.457143  L 63.970687 82.760158  L 36.169034 82.760158  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p899fcdf752)" d="M 63.970687 83.457143  L 91.77234 83.457143  L 91.77234 81.784379  L 63.970687 81.784379  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p899fcdf752)" d="M 91.77234 83.457143  L 119.573993 83.457143  L 119.573993 74.953924  L 91.77234 74.953924  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p899fcdf752)" d="M 119.573993 83.457143  L 147.375646 83.457143  L 147.375646 57.80809  L 119.573993 57.80809  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p899fcdf752)" d="M 147.375646 83.457143  L 175.177299 83.457143  L 175.177299 34.38939  L 147.375646 34.38939  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p899fcdf752)" d="M 175.177299 83.457143  L 202.978951 83.457143  L 202.978951 10.831293  L 175.177299 10.831293  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p899fcdf752)" d="M 202.978951 83.457143  L 230.780604 83.457143  L 230.780604 31.322655  L 202.978951 31.322655  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p899fcdf752)" d="M 230.780604 83.457143  L 258.582257 83.457143  L 258.582257 53.626179  L 230.780604 53.626179  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p899fcdf752)" d="M 258.582257 83.457143  L 286.38391 83.457143  L 286.38391 72.026587  L 258.582257 72.026587  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_12">
    <path clip-path="url(#p899fcdf752)" d="M 286.38391 83.457143  L 314.185563 83.457143  L 314.185563 80.669202  L 286.38391 80.669202  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_13">
    <path clip-path="url(#p899fcdf752)" d="M 314.185563 83.457143  L 341.987216 83.457143  L 341.987216 82.620761  L 314.185563 82.620761  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m7f34e3787f" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="49.050591" y="83.457143" xlink:href="#m7f34e3787f"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(33.144341 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="119.960443" y="83.457143" xlink:href="#m7f34e3787f"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(104.054193 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-53"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="190.870296" y="83.457143" xlink:href="#m7f34e3787f"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(174.964046 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="261.780148" y="83.457143" xlink:href="#m7f34e3787f"></use>
      </g>
     </g>
     <g id="text_4">

      <g transform="translate(245.873898 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-53"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="332.69" y="83.457143" xlink:href="#m7f34e3787f"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(316.78375 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_6">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_16">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_17">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p899fcdf752">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">20051.44933225138</td></tr><tr><td>stdev</td><td style="text-align:left;">2994.003712899102</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">1831</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">9091.694830180175</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">30655.565862265605</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">20051.44933225138</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">2994.003712899102</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations2</span><span class="o">.</span><span class="n">N_VEHICLES</span><span class="o">.</span><span class="n">statistics</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">1831</td></tr><tr><td>minimum</td><td style="text-align:left;">0</td></tr><tr><td>maximum</td><td style="text-align:left;">11</td></tr><tr><td>median</td><td style="text-align:left;">1.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASViQEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ0hHAQAAAAAAAKoDAAAAAAAAjQEAAAAAAABrAAAAAAAAACYAAAAAAAAADwAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAQAAAAAAAACUdJRijAliaW5fZWRnZXOUaARoB0sAhZRoCYeUUpQoSwFLCoWUaBGJQ1AAAAAAAAAAAAEAAAAAAAAAAgAAAAAAAAADAAAAAAAAAAQAAAAAAAAABQAAAAAAAAAGAAAAAAAAAAcAAAAAAAAACAAAAAAAAAAJAAAAAAAAAJR0lGKMEXplcm9zX2FyZV9kcm9wcGVklImMEnJhbmdlX2lzX3RydW5jYXRlZJSJdS4=" range_is_truncated="False" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are purple if the data is represented as discrete values.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#pf83db5f39b)" d="M 36.169034 83.457143  L 63.970687 83.457143  L 63.970687 58.138749  L 36.169034 58.138749  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#pf83db5f39b)" d="M 70.9211 83.457143  L 98.722753 83.457143  L 98.722753 10.831293  L 70.9211 10.831293  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#pf83db5f39b)" d="M 105.673166 83.457143  L 133.474819 83.457143  L 133.474819 52.71891  L 105.673166 52.71891  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#pf83db5f39b)" d="M 140.425232 83.457143  L 168.226885 83.457143  L 168.226885 75.172531  L 140.425232 75.172531  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#pf83db5f39b)" d="M 175.177299 83.457143  L 202.978951 83.457143  L 202.978951 80.514944  L 175.177299 80.514944  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#pf83db5f39b)" d="M 209.929365 83.457143  L 237.731018 83.457143  L 237.731018 82.295749  L 209.929365 82.295749  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#pf83db5f39b)" d="M 244.681431 83.457143  L 272.483084 83.457143  L 272.483084 82.915159  L 244.681431 82.915159  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#pf83db5f39b)" d="M 279.433497 83.457143  L 307.23515 83.457143  L 307.23515 83.379717  L 279.433497 83.379717  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#pf83db5f39b)" d="M 314.185563 83.457143  L 341.987216 83.457143  L 341.987216 83.379717  L 314.185563 83.379717  z " style="fill:#6478ba;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m4172989658" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="50.069861" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(46.888611 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="84.821927" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(81.640677 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="119.573993" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(116.392743 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="154.326059" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(151.144809 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="189.078125" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(185.896875 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="223.830191" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(220.648941 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="258.582257" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(255.401007 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="293.334323" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 10.984375 1.515625  L 10.984375 10.5  Q 14.703125 8.734375 18.5 7.8125  Q 22.3125 6.890625 25.984375 6.890625  Q 35.75 6.890625 40.890625 13.453125  Q 46.046875 20.015625 46.78125 33.40625  Q 43.953125 29.203125 39.59375 26.953125  Q 35.25 24.703125 29.984375 24.703125  Q 19.046875 24.703125 12.671875 31.3125  Q 6.296875 37.9375 6.296875 49.421875  Q 6.296875 60.640625 12.9375 67.421875  Q 19.578125 74.21875 30.609375 74.21875  Q 43.265625 74.21875 49.921875 64.515625  Q 56.59375 54.828125 56.59375 36.375  Q 56.59375 19.140625 48.40625 8.859375  Q 40.234375 -1.421875 26.421875 -1.421875  Q 22.703125 -1.421875 18.890625 -0.6875  Q 15.09375 0.046875 10.984375 1.515625  z M 30.609375 32.421875  Q 37.25 32.421875 41.125 36.953125  Q 45.015625 41.5 45.015625 49.421875  Q 45.015625 57.28125 41.125 61.84375  Q 37.25 66.40625 30.609375 66.40625  Q 23.96875 66.40625 20.09375 61.84375  Q 16.21875 57.28125 16.21875 49.421875  Q 16.21875 41.5 20.09375 36.953125  Q 23.96875 32.421875 30.609375 32.421875  z " id="DejaVuSans-57"></path>
      </defs>
      <g transform="translate(290.153073 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-57"></use>
      </g>
     </g>
    </g>
    <g id="xtick_9">
     <g id="line2d_9">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="328.086389" y="83.457143" xlink:href="#m4172989658"></use>
      </g>
     </g>
     <g id="text_9">

      <g transform="translate(321.723889 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_10">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_12">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_13">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="pf83db5f39b">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">1.2790824685963955</td></tr><tr><td>stdev</td><td style="text-align:left;">1.0267819582622217</td></tr><tr><td>zeros</td><td style="text-align:left;">327</td></tr><tr><td>positives</td><td style="text-align:left;">1504</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">11</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">1.5571808510638299</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">0.9222004958396711</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_locations2</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>INCOME</th>
      <th>N_VEHICLES</th>
      <th>HHSIZE</th>
      <th>index_right</th>
      <th>TAZ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>X</th>
      <td>1.000000</td>
      <td>-0.018466</td>
      <td>-0.012184</td>
      <td>-0.000933</td>
      <td>0.023437</td>
      <td>0.042336</td>
      <td>0.042336</td>
    </tr>
    <tr>
      <th>Y</th>
      <td>-0.018466</td>
      <td>1.000000</td>
      <td>-0.000632</td>
      <td>0.006702</td>
      <td>0.010311</td>
      <td>-0.335959</td>
      <td>-0.335959</td>
    </tr>
    <tr>
      <th>INCOME</th>
      <td>-0.012184</td>
      <td>-0.000632</td>
      <td>1.000000</td>
      <td>0.505674</td>
      <td>0.296677</td>
      <td>-0.006175</td>
      <td>-0.006175</td>
    </tr>
    <tr>
      <th>N_VEHICLES</th>
      <td>-0.000933</td>
      <td>0.006702</td>
      <td>0.505674</td>
      <td>1.000000</td>
      <td>0.889067</td>
      <td>0.000554</td>
      <td>0.000554</td>
    </tr>
    <tr>
      <th>HHSIZE</th>
      <td>0.023437</td>
      <td>0.010311</td>
      <td>0.296677</td>
      <td>0.889067</td>
      <td>1.000000</td>
      <td>-0.003713</td>
      <td>-0.003713</td>
    </tr>
    <tr>
      <th>index_right</th>
      <td>0.042336</td>
      <td>-0.335959</td>
      <td>-0.006175</td>
      <td>0.000554</td>
      <td>-0.003713</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>TAZ</th>
      <td>0.042336</td>
      <td>-0.335959</td>
      <td>-0.006175</td>
      <td>0.000554</td>
      <td>-0.003713</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Merge Groups</span>

<span class="n">HH</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">hh_locations</span><span class="p">,</span> <span class="n">hh_locations2</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Clean up</span>
<span class="n">HH</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">HH</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;TAZ&#39;</span><span class="p">:</span><span class="s1">&#39;HOMETAZ&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">HH</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index_right&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Add HH size and ID</span>
<span class="c1"># HH[&#39;HHSIZE&#39;] = (np.floor(</span>
<span class="c1">#     np.random.binomial(5, 0.3, [n_hh, ])</span>
<span class="c1">#     + 1</span>
<span class="c1">#     + np.random.random([n_hh, ])</span>
<span class="c1"># )).astype(int)</span>

<span class="c1">#np.floor(np.random.exponential(0.8, [n_hh, ]) + 1 + np.random.random([n_hh, ])).astype(int)</span>
<span class="n">HH</span><span class="p">[</span><span class="s1">&#39;HHID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="mi">50000</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>INCOME</th>
      <th>N_VEHICLES</th>
      <th>HHSIZE</th>
      <th>geometry</th>
      <th>HOMETAZ</th>
      <th>HHID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>361.35</td>
      <td>33.34</td>
      <td>6026.0</td>
      <td>1</td>
      <td>4</td>
      <td>POINT (361.350 33.340)</td>
      <td>22</td>
      <td>50000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>272.08</td>
      <td>30.77</td>
      <td>30538.0</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (272.080 30.770)</td>
      <td>22</td>
      <td>50001</td>
    </tr>
    <tr>
      <th>2</th>
      <td>424.18</td>
      <td>72.55</td>
      <td>24131.0</td>
      <td>1</td>
      <td>1</td>
      <td>POINT (424.180 72.550)</td>
      <td>22</td>
      <td>50002</td>
    </tr>
    <tr>
      <th>3</th>
      <td>464.48</td>
      <td>61.30</td>
      <td>34838.0</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (464.480 61.300)</td>
      <td>22</td>
      <td>50003</td>
    </tr>
    <tr>
      <th>4</th>
      <td>328.95</td>
      <td>129.36</td>
      <td>29337.0</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (328.950 129.360)</td>
      <td>22</td>
      <td>50004</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># HH.index = HH[&#39;HHID&#39;]</span>
<span class="n">HH</span><span class="p">[</span><span class="s1">&#39;HHSIZE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">statistics</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">5000</td></tr><tr><td>minimum</td><td style="text-align:left;">1</td></tr><tr><td>maximum</td><td style="text-align:left;">22</td></tr><tr><td>median</td><td style="text-align:left;">2.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVyQEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLDYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ2i4AwAAAAAAAIcIAAAAAAAAGAQAAAAAAADqAQAAAAAAALkAAAAAAAAASgAAAAAAAAAdAAAAAAAAABUAAAAAAAAADAAAAAAAAAACAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAABAAAAAAAAAJR0lGKMCWJpbl9lZGdlc5RoBGgHSwCFlGgJh5RSlChLAUsOhZRoEYlDcAAAAAAAAAAAAQAAAAAAAAACAAAAAAAAAAMAAAAAAAAABAAAAAAAAAAFAAAAAAAAAAYAAAAAAAAABwAAAAAAAAAIAAAAAAAAAAkAAAAAAAAACgAAAAAAAAALAAAAAAAAAAwAAAAAAAAADQAAAAAAAACUdJRijBF6ZXJvc19hcmVfZHJvcHBlZJSJjBJyYW5nZV9pc190cnVuY2F0ZWSUiXUu" range_is_truncated="False" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are purple if the data is represented as discrete values.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p04a2c267b3)" d="M 36.169034 83.457143  L 55.28267 83.457143  L 55.28267 51.785219  L 36.169034 51.785219  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p04a2c267b3)" d="M 60.06108 83.457143  L 79.174716 83.457143  L 79.174716 10.831293  L 60.06108 10.831293  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p04a2c267b3)" d="M 83.953125 83.457143  L 103.066761 83.457143  L 103.066761 48.591412  L 83.953125 48.591412  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p04a2c267b3)" d="M 107.84517 83.457143  L 126.958807 83.457143  L 126.958807 67.155417  L 107.84517 67.155417  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p04a2c267b3)" d="M 131.737216 83.457143  L 150.850852 83.457143  L 150.850852 77.30241  L 131.737216 77.30241  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p04a2c267b3)" d="M 155.629261 83.457143  L 174.742898 83.457143  L 174.742898 80.99525  L 155.629261 80.99525  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p04a2c267b3)" d="M 179.521307 83.457143  L 198.634943 83.457143  L 198.634943 82.492347  L 179.521307 82.492347  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p04a2c267b3)" d="M 203.413352 83.457143  L 222.526989 83.457143  L 222.526989 82.758497  L 203.413352 82.758497  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p04a2c267b3)" d="M 227.305398 83.457143  L 246.419034 83.457143  L 246.419034 83.057917  L 227.305398 83.057917  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_12">
    <path clip-path="url(#p04a2c267b3)" d="M 251.197443 83.457143  L 270.31108 83.457143  L 270.31108 83.390605  L 251.197443 83.390605  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_13">
    <path clip-path="url(#p04a2c267b3)" d="M 275.089489 83.457143  L 294.203125 83.457143  L 294.203125 83.390605  L 275.089489 83.390605  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_14">
    <path clip-path="url(#p04a2c267b3)" d="M 298.981534 83.457143  L 318.09517 83.457143  L 318.09517 83.423874  L 298.981534 83.423874  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_15">
    <path clip-path="url(#p04a2c267b3)" d="M 322.87358 83.457143  L 341.987216 83.457143  L 341.987216 83.423874  L 322.87358 83.423874  z " style="fill:#6478ba;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="med6f97232d" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="45.725852" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(42.544602 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="69.617898" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(66.436648 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="93.509943" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(90.328693 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="117.401989" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(114.220739 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="141.294034" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(138.112784 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="165.18608" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(162.00483 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="189.078125" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 8.203125 72.90625  L 55.078125 72.90625  L 55.078125 68.703125  L 28.609375 0  L 18.3125 0  L 43.21875 64.59375  L 8.203125 64.59375  z " id="DejaVuSans-55"></path>
      </defs>
      <g transform="translate(185.896875 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-55"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="212.97017" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 31.78125 34.625  Q 24.75 34.625 20.71875 30.859375  Q 16.703125 27.09375 16.703125 20.515625  Q 16.703125 13.921875 20.71875 10.15625  Q 24.75 6.390625 31.78125 6.390625  Q 38.8125 6.390625 42.859375 10.171875  Q 46.921875 13.96875 46.921875 20.515625  Q 46.921875 27.09375 42.890625 30.859375  Q 38.875 34.625 31.78125 34.625  z M 21.921875 38.8125  Q 15.578125 40.375 12.03125 44.71875  Q 8.5 49.078125 8.5 55.328125  Q 8.5 64.0625 14.71875 69.140625  Q 20.953125 74.21875 31.78125 74.21875  Q 42.671875 74.21875 48.875 69.140625  Q 55.078125 64.0625 55.078125 55.328125  Q 55.078125 49.078125 51.53125 44.71875  Q 48 40.375 41.703125 38.8125  Q 48.828125 37.15625 52.796875 32.3125  Q 56.78125 27.484375 56.78125 20.515625  Q 56.78125 9.90625 50.3125 4.234375  Q 43.84375 -1.421875 31.78125 -1.421875  Q 19.734375 -1.421875 13.25 4.234375  Q 6.78125 9.90625 6.78125 20.515625  Q 6.78125 27.484375 10.78125 32.3125  Q 14.796875 37.15625 21.921875 38.8125  z M 18.3125 54.390625  Q 18.3125 48.734375 21.84375 45.5625  Q 25.390625 42.390625 31.78125 42.390625  Q 38.140625 42.390625 41.71875 45.5625  Q 45.3125 48.734375 45.3125 54.390625  Q 45.3125 60.0625 41.71875 63.234375  Q 38.140625 66.40625 31.78125 66.40625  Q 25.390625 66.40625 21.84375 63.234375  Q 18.3125 60.0625 18.3125 54.390625  z " id="DejaVuSans-56"></path>
      </defs>
      <g transform="translate(209.78892 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-56"></use>
      </g>
     </g>
    </g>
    <g id="xtick_9">
     <g id="line2d_9">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="236.862216" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_9">

      <defs>
       <path d="M 10.984375 1.515625  L 10.984375 10.5  Q 14.703125 8.734375 18.5 7.8125  Q 22.3125 6.890625 25.984375 6.890625  Q 35.75 6.890625 40.890625 13.453125  Q 46.046875 20.015625 46.78125 33.40625  Q 43.953125 29.203125 39.59375 26.953125  Q 35.25 24.703125 29.984375 24.703125  Q 19.046875 24.703125 12.671875 31.3125  Q 6.296875 37.9375 6.296875 49.421875  Q 6.296875 60.640625 12.9375 67.421875  Q 19.578125 74.21875 30.609375 74.21875  Q 43.265625 74.21875 49.921875 64.515625  Q 56.59375 54.828125 56.59375 36.375  Q 56.59375 19.140625 48.40625 8.859375  Q 40.234375 -1.421875 26.421875 -1.421875  Q 22.703125 -1.421875 18.890625 -0.6875  Q 15.09375 0.046875 10.984375 1.515625  z M 30.609375 32.421875  Q 37.25 32.421875 41.125 36.953125  Q 45.015625 41.5 45.015625 49.421875  Q 45.015625 57.28125 41.125 61.84375  Q 37.25 66.40625 30.609375 66.40625  Q 23.96875 66.40625 20.09375 61.84375  Q 16.21875 57.28125 16.21875 49.421875  Q 16.21875 41.5 20.09375 36.953125  Q 23.96875 32.421875 30.609375 32.421875  z " id="DejaVuSans-57"></path>
      </defs>
      <g transform="translate(233.680966 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-57"></use>
      </g>
     </g>
    </g>
    <g id="xtick_10">
     <g id="line2d_10">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="260.754261" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_10">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(254.391761 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_11">
     <g id="line2d_11">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="284.646307" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_11">

      <g transform="translate(278.283807 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_12">
     <g id="line2d_12">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="308.538352" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_12">

      <g transform="translate(302.175852 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_13">
     <g id="line2d_13">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="332.430398" y="83.457143" xlink:href="#med6f97232d"></use>
      </g>
     </g>
     <g id="text_13">

      <g transform="translate(326.067898 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_14">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_16">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_17">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_18">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_19">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p04a2c267b3">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">2.4698</td></tr><tr><td>stdev</td><td style="text-align:left;">1.314034991923731</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">5000</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">22</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">2.4698</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">1.314034991923731</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="p">[</span><span class="s1">&#39;INCOME&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">5000</td></tr><tr><td>minimum</td><td style="text-align:left;">1159.0</td></tr><tr><td>maximum</td><td style="text-align:left;">1495622.0</td></tr><tr><td>median</td><td style="text-align:left;">27261.06802456764</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVrgEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ0gQDQAAAAAAAEQDAAAAAAAAcQEAAAAAAACoAAAAAAAAAGsAAAAAAAAANgAAAAAAAAAmAAAAAAAAABMAAAAAAAAADwAAAAAAAACUdJRijAliaW5fZWRnZXOUaARoB0sAhZRoCYeUUpQoSwFLCoWUaA6MAmY4lEsASwGHlFKUKEsDaBJOTk5K/////0r/////SwB0lGKJQ1AAAAAAABySQJ6ZmZmBNetAnpmZmRHt+kA2MzMzsR8EQZ6ZmZnZyApBAwAAAAG5EEE2MzMzlQ0UQWpmZmYpYhdBnpmZmb22GkHSzMzMUQseQZR0lGKMEXplcm9zX2FyZV9kcm9wcGVklImMEnJhbmdlX2lzX3RydW5jYXRlZJRLAXUu" range_is_truncated="1" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 363.024156 107.335268" width="363.024156pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are green if the displayed range truncates some extreme outliers.</title><g id="patch_1">
   <path d="M 0 107.335268  L 363.024156 107.335268  L 363.024156 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 346.874348 83.457143  L 346.874348 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p71de1fe929)" d="M 35.696135 83.457143  L 68.625047 83.457143  L 68.625047 10.831293  L 35.696135 10.831293  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p71de1fe929)" d="M 68.625047 83.457143  L 101.553958 83.457143  L 101.553958 65.30068  L 68.625047 65.30068  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p71de1fe929)" d="M 101.553958 83.457143  L 134.482869 83.457143  L 134.482869 75.443106  L 101.553958 75.443106  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p71de1fe929)" d="M 134.482869 83.457143  L 167.411781 83.457143  L 167.411781 79.808476  L 134.482869 79.808476  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p71de1fe929)" d="M 167.411781 83.457143  L 200.340692 83.457143  L 200.340692 81.133289  L 167.411781 81.133289  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p71de1fe929)" d="M 200.340692 83.457143  L 233.269604 83.457143  L 233.269604 82.284357  L 200.340692 82.284357  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p71de1fe929)" d="M 233.269604 83.457143  L 266.198515 83.457143  L 266.198515 82.631849  L 233.269604 82.631849  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p71de1fe929)" d="M 266.198515 83.457143  L 299.127426 83.457143  L 299.127426 83.044496  L 266.198515 83.044496  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p71de1fe929)" d="M 299.127426 83.457143  L 332.056338 83.457143  L 332.056338 83.131369  L 299.127426 83.131369  z " style="fill:#27b67b;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m0316439257" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="34.996702" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(31.815452 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="95.344693" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(76.257193 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="155.692684" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(136.605184 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="216.040675" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(196.953175 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="276.388666" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(257.301166 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="336.736656" y="83.457143" xlink:href="#m0316439257"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(317.649156 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_7">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_12">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_13">
    <path d="M 346.874348 83.457143  L 346.874348 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 346.874348 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 20.878125 7.2  L 346.874348 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p71de1fe929">
   <rect height="76.257143" width="325.996223" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">67420.15754547046</td></tr><tr><td>stdev</td><td style="text-align:left;">100966.07139915966</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">5000</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1159.0</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">1495622.0</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">67420.15754547046</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">100966.07139915966</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;geopandas.geodataframe.GeoDataFrame&#39;&gt;
RangeIndex: 5000 entries, 0 to 4999
Data columns (total 8 columns):
 #   Column      Non-Null Count  Dtype
---  ------      --------------  -----
 0   X           5000 non-null   float64
 1   Y           5000 non-null   float64
 2   INCOME      5000 non-null   float64
 3   N_VEHICLES  5000 non-null   int64
 4   HHSIZE      5000 non-null   int64
 5   geometry    5000 non-null   geometry
 6   HOMETAZ     5000 non-null   int64
 7   HHID        5000 non-null   int64
dtypes: float64(3), geometry(1), int64(4)
memory usage: 312.6 KB
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">HH</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.25</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_31_0.png" src="../_images/example_x-299_exampville-data-creator_31_0.png" />
</div>
</div>
</div>
<div class="section" id="People">
<h2>People<a class="headerlink" href="#People" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">HHsize</span> <span class="o">=</span> <span class="n">HH</span><span class="p">[</span><span class="s1">&#39;HHSIZE&#39;</span><span class="p">]</span>
<span class="n">n_PER</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">HHsize</span><span class="p">)</span>

<span class="n">PER</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">PERidx</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;idx&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_PER</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">PERid</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;PERSONID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mi">60000</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;idx&#39;</span><span class="p">]])</span>
<span class="n">PERhhid</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;HHID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_PER</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">PERhhidx</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;HHIDX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_PER</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">PERage</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;AGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_PER</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_hh</span><span class="p">):</span>
    <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;HHID&#39;</span><span class="p">][</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">HHsize</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">HH</span><span class="p">[</span><span class="s1">&#39;HHID&#39;</span><span class="p">][</span><span class="n">n1</span><span class="p">]</span>
    <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;HHIDX&#39;</span><span class="p">][</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">HHsize</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>

    <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;AGE&#39;</span><span class="p">][</span><span class="n">n2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">67</span> <span class="o">+</span> <span class="mi">18</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">HHsize</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">nphh</span> <span class="o">=</span> <span class="n">HHsize</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;AGE&#39;</span><span class="p">][</span><span class="n">n2</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">n2</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">nphh</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">nphh</span><span class="p">)</span> <span class="o">*</span> <span class="mi">80</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
    <span class="n">n2</span> <span class="o">+=</span> <span class="n">HHsize</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>



<span class="n">PERworks</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;WORKS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n_PER</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.15</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">PERage</span> <span class="o">&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">PERage</span> <span class="o">&lt;</span> <span class="mi">70</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="n">PER</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">PER</span><span class="p">)</span>
<span class="n">PER</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;idx&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="p">[</span><span class="s1">&#39;AGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">12349</td></tr><tr><td>minimum</td><td style="text-align:left;">5</td></tr><tr><td>maximum</td><td style="text-align:left;">84</td></tr><tr><td>median</td><td style="text-align:left;">48.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASV/gEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLDoWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ3AWAgAAAAAAAFsCAAAAAAAA3QIAAAAAAACvAwAAAAAAAPADAAAAAAAAFwMAAAAAAAD6AwAAAAAAAAAEAAAAAAAATQMAAAAAAAD4AwAAAAAAAOcDAAAAAAAALAMAAAAAAAAUBAAAAAAAANMDAAAAAAAAlHSUYowJYmluX2VkZ2VzlGgEaAdLAIWUaAmHlFKUKEsBSw+FlGgOjAJmOJRLAEsBh5RSlChLA2gSTk5OSv////9K/////0sAdJRiiUN4AAAAAAAAFECSJEmSJEklQJIkSZIkSTBA3LZt27btNUAlSZIkSZI7QLdt27Ztm0BA3LZt27ZtQ0AAAAAAAEBGQCVJkiRJEklASpIkSZLkS0Bu27Zt27ZOQEqSJEmSxFBA3LZt27YtUkBu27Zt25ZTQAAAAAAAAFVAlHSUYowRemVyb3NfYXJlX2Ryb3BwZWSUiYwScmFuZ2VfaXNfdHJ1bmNhdGVklEsAdS4=" range_is_truncated="0" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title></title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 -0  L 0 -0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#pc78d936ed3)" d="M 36.169034 83.457143  L 58.01319 83.457143  L 58.01319 46.309438  L 36.169034 46.309438  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#pc78d936ed3)" d="M 58.01319 83.457143  L 79.857346 83.457143  L 79.857346 41.509453  L 58.01319 41.509453  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#pc78d936ed3)" d="M 79.857346 83.457143  L 101.701502 83.457143  L 101.701502 32.466005  L 79.857346 32.466005  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#pc78d936ed3)" d="M 101.701502 83.457143  L 123.545657 83.457143  L 123.545657 17.857357  L 101.701502 17.857357  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#pc78d936ed3)" d="M 123.545657 83.457143  L 145.389813 83.457143  L 145.389813 13.335632  L 123.545657 13.335632  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#pc78d936ed3)" d="M 145.389813 83.457143  L 167.233969 83.457143  L 167.233969 28.431235  L 145.389813 28.431235  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#pc78d936ed3)" d="M 167.233969 83.457143  L 189.078125 83.457143  L 189.078125 12.639982  L 167.233969 12.639982  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#pc78d936ed3)" d="M 189.078125 83.457143  L 210.922281 83.457143  L 210.922281 12.222592  L 189.078125 12.222592  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#pc78d936ed3)" d="M 210.922281 83.457143  L 232.766437 83.457143  L 232.766437 24.674726  L 210.922281 24.674726  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_12">
    <path clip-path="url(#pc78d936ed3)" d="M 232.766437 83.457143  L 254.610593 83.457143  L 254.610593 12.779112  L 232.766437 12.779112  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_13">
    <path clip-path="url(#pc78d936ed3)" d="M 254.610593 83.457143  L 276.454748 83.457143  L 276.454748 13.961717  L 254.610593 13.961717  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_14">
    <path clip-path="url(#pc78d936ed3)" d="M 276.454748 83.457143  L 298.298904 83.457143  L 298.298904 26.97037  L 276.454748 26.97037  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_15">
    <path clip-path="url(#pc78d936ed3)" d="M 298.298904 83.457143  L 320.14306 83.457143  L 320.14306 10.831293  L 298.298904 10.831293  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="patch_16">
    <path clip-path="url(#pc78d936ed3)" d="M 320.14306 83.457143  L 341.987216 83.457143  L 341.987216 15.353017  L 320.14306 15.353017  z " style="fill:#1d8bcc;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m67acaf8e2f" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="55.524615" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(49.162115 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="94.235777" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(87.873277 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="132.94694" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(126.58444 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="171.658102" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(165.295602 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="210.369264" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(204.006764 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="249.080426" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(242.717926 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="287.791589" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 8.203125 72.90625  L 55.078125 72.90625  L 55.078125 68.703125  L 28.609375 0  L 18.3125 0  L 43.21875 64.59375  L 8.203125 64.59375  z " id="DejaVuSans-55"></path>
      </defs>
      <g transform="translate(281.429089 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-55"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="326.502751" y="83.457143" xlink:href="#m67acaf8e2f"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 31.78125 34.625  Q 24.75 34.625 20.71875 30.859375  Q 16.703125 27.09375 16.703125 20.515625  Q 16.703125 13.921875 20.71875 10.15625  Q 24.75 6.390625 31.78125 6.390625  Q 38.8125 6.390625 42.859375 10.171875  Q 46.921875 13.96875 46.921875 20.515625  Q 46.921875 27.09375 42.890625 30.859375  Q 38.875 34.625 31.78125 34.625  z M 21.921875 38.8125  Q 15.578125 40.375 12.03125 44.71875  Q 8.5 49.078125 8.5 55.328125  Q 8.5 64.0625 14.71875 69.140625  Q 20.953125 74.21875 31.78125 74.21875  Q 42.671875 74.21875 48.875 69.140625  Q 55.078125 64.0625 55.078125 55.328125  Q 55.078125 49.078125 51.53125 44.71875  Q 48 40.375 41.703125 38.8125  Q 48.828125 37.15625 52.796875 32.3125  Q 56.78125 27.484375 56.78125 20.515625  Q 56.78125 9.90625 50.3125 4.234375  Q 43.84375 -1.421875 31.78125 -1.421875  Q 19.734375 -1.421875 13.25 4.234375  Q 6.78125 9.90625 6.78125 20.515625  Q 6.78125 27.484375 10.78125 32.3125  Q 14.796875 37.15625 21.921875 38.8125  z M 18.3125 54.390625  Q 18.3125 48.734375 21.84375 45.5625  Q 25.390625 42.390625 31.78125 42.390625  Q 38.140625 42.390625 41.71875 45.5625  Q 45.3125 48.734375 45.3125 54.390625  Q 45.3125 60.0625 41.71875 63.234375  Q 38.140625 66.40625 31.78125 66.40625  Q 25.390625 66.40625 21.84375 63.234375  Q 18.3125 60.0625 18.3125 54.390625  z " id="DejaVuSans-56"></path>
      </defs>
      <g transform="translate(320.140251 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-56"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_9">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_17">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_18">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_19">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_20">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="pc78d936ed3">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">47.22916835371285</td></tr><tr><td>stdev</td><td style="text-align:left;">21.846714300032925</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">12349</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">5</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">84</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">47.22916835371285</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">21.846714300032925</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>INCOME</th>
      <th>N_VEHICLES</th>
      <th>HHSIZE</th>
      <th>geometry</th>
      <th>HOMETAZ</th>
      <th>HHID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>361.35</td>
      <td>33.34</td>
      <td>6026.0</td>
      <td>1</td>
      <td>4</td>
      <td>POINT (361.350 33.340)</td>
      <td>22</td>
      <td>50000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>272.08</td>
      <td>30.77</td>
      <td>30538.0</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (272.080 30.770)</td>
      <td>22</td>
      <td>50001</td>
    </tr>
    <tr>
      <th>2</th>
      <td>424.18</td>
      <td>72.55</td>
      <td>24131.0</td>
      <td>1</td>
      <td>1</td>
      <td>POINT (424.180 72.550)</td>
      <td>22</td>
      <td>50002</td>
    </tr>
    <tr>
      <th>3</th>
      <td>464.48</td>
      <td>61.30</td>
      <td>34838.0</td>
      <td>1</td>
      <td>2</td>
      <td>POINT (464.480 61.300)</td>
      <td>22</td>
      <td>50003</td>
    </tr>
    <tr>
      <th>4</th>
      <td>328.95</td>
      <td>129.36</td>
      <td>29337.0</td>
      <td>0</td>
      <td>1</td>
      <td>POINT (328.950 129.360)</td>
      <td>22</td>
      <td>50004</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">n_veh</span> <span class="o">=</span> <span class="n">HH</span><span class="p">[[</span><span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span> <span class="s1">&#39;INCOME&#39;</span><span class="p">]]</span>
<span class="n">n_veh</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">HHID</span>
<span class="n">PER</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">PER</span><span class="p">,</span> <span class="n">n_veh</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;HHID&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vcounts</span> <span class="o">=</span> <span class="n">PER</span><span class="o">.</span><span class="n">N_VEHICLES</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">vcounts</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>0     1855
1     5374
2     2965
3     1199
4      528
5      239
6      120
7       19
9       20
11      22
15       8
Name: N_VEHICLES, dtype: int64
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="o">.</span><span class="n">N_VEHICLES</span><span class="o">.</span><span class="n">statistics</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">12349</td></tr><tr><td>minimum</td><td style="text-align:left;">0</td></tr><tr><td>maximum</td><td style="text-align:left;">15</td></tr><tr><td>median</td><td style="text-align:left;">1.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVqQEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLC4WUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ1g/BwAAAAAAAP4UAAAAAAAAlQsAAAAAAACvBAAAAAAAABACAAAAAAAA7wAAAAAAAAB4AAAAAAAAABMAAAAAAAAAFAAAAAAAAAAWAAAAAAAAAAgAAAAAAAAAlHSUYowJYmluX2VkZ2VzlGgEaAdLAIWUaAmHlFKUKEsBSwyFlGgRiUNgAAAAAAAAAAABAAAAAAAAAAIAAAAAAAAAAwAAAAAAAAAEAAAAAAAAAAUAAAAAAAAABgAAAAAAAAAHAAAAAAAAAAgAAAAAAAAACQAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAlHSUYowRemVyb3NfYXJlX2Ryb3BwZWSUiYwScmFuZ2VfaXNfdHJ1bmNhdGVklIl1Lg==" range_is_truncated="False" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are purple if the data is represented as discrete values.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p1f9a748cfb)" d="M 36.169034 83.457143  L 58.822233 83.457143  L 58.822233 58.388116  L 36.169034 58.388116  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p1f9a748cfb)" d="M 64.485532 83.457143  L 87.138731 83.457143  L 87.138731 10.831293  L 64.485532 10.831293  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p1f9a748cfb)" d="M 92.802031 83.457143  L 115.455229 83.457143  L 115.455229 43.387242  L 92.802031 43.387242  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p1f9a748cfb)" d="M 121.118529 83.457143  L 143.771728 83.457143  L 143.771728 67.253497  L 121.118529 67.253497  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p1f9a748cfb)" d="M 149.435027 83.457143  L 172.088226 83.457143  L 172.088226 76.321592  L 149.435027 76.321592  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p1f9a748cfb)" d="M 177.751526 83.457143  L 200.404724 83.457143  L 200.404724 80.227225  L 177.751526 80.227225  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p1f9a748cfb)" d="M 206.068024 83.457143  L 228.721223 83.457143  L 228.721223 81.835427  L 206.068024 81.835427  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p1f9a748cfb)" d="M 234.384522 83.457143  L 257.037721 83.457143  L 257.037721 83.200371  L 234.384522 83.200371  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p1f9a748cfb)" d="M 262.701021 83.457143  L 285.354219 83.457143  L 285.354219 83.186857  L 262.701021 83.186857  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_12">
    <path clip-path="url(#p1f9a748cfb)" d="M 291.017519 83.457143  L 313.670718 83.457143  L 313.670718 83.159828  L 291.017519 83.159828  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_13">
    <path clip-path="url(#p1f9a748cfb)" d="M 319.334017 83.457143  L 341.987216 83.457143  L 341.987216 83.349028  L 319.334017 83.349028  z " style="fill:#6478ba;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="mf3234b6a3a" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="47.495633" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(44.314383 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="75.812132" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(72.630882 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="104.12863" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(100.94738 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="132.445128" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(129.263878 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="160.761627" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(157.580377 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="189.078125" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(185.896875 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="217.394623" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(214.213373 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="245.711122" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 8.203125 72.90625  L 55.078125 72.90625  L 55.078125 68.703125  L 28.609375 0  L 18.3125 0  L 43.21875 64.59375  L 8.203125 64.59375  z " id="DejaVuSans-55"></path>
      </defs>
      <g transform="translate(242.529872 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-55"></use>
      </g>
     </g>
    </g>
    <g id="xtick_9">
     <g id="line2d_9">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="274.02762" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_9">

      <defs>
       <path d="M 10.984375 1.515625  L 10.984375 10.5  Q 14.703125 8.734375 18.5 7.8125  Q 22.3125 6.890625 25.984375 6.890625  Q 35.75 6.890625 40.890625 13.453125  Q 46.046875 20.015625 46.78125 33.40625  Q 43.953125 29.203125 39.59375 26.953125  Q 35.25 24.703125 29.984375 24.703125  Q 19.046875 24.703125 12.671875 31.3125  Q 6.296875 37.9375 6.296875 49.421875  Q 6.296875 60.640625 12.9375 67.421875  Q 19.578125 74.21875 30.609375 74.21875  Q 43.265625 74.21875 49.921875 64.515625  Q 56.59375 54.828125 56.59375 36.375  Q 56.59375 19.140625 48.40625 8.859375  Q 40.234375 -1.421875 26.421875 -1.421875  Q 22.703125 -1.421875 18.890625 -0.6875  Q 15.09375 0.046875 10.984375 1.515625  z M 30.609375 32.421875  Q 37.25 32.421875 41.125 36.953125  Q 45.015625 41.5 45.015625 49.421875  Q 45.015625 57.28125 41.125 61.84375  Q 37.25 66.40625 30.609375 66.40625  Q 23.96875 66.40625 20.09375 61.84375  Q 16.21875 57.28125 16.21875 49.421875  Q 16.21875 41.5 20.09375 36.953125  Q 23.96875 32.421875 30.609375 32.421875  z " id="DejaVuSans-57"></path>
      </defs>
      <g transform="translate(270.84637 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-57"></use>
      </g>
     </g>
    </g>
    <g id="xtick_10">
     <g id="line2d_10">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="302.344118" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_10">

      <g transform="translate(295.981618 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_11">
     <g id="line2d_11">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="330.660617" y="83.457143" xlink:href="#mf3234b6a3a"></use>
      </g>
     </g>
     <g id="text_11">

      <g transform="translate(324.298117 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_12">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_16">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_17">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p1f9a748cfb">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">1.587415985100008</td></tr><tr><td>stdev</td><td style="text-align:left;">1.3546955271124952</td></tr><tr><td>zeros</td><td style="text-align:left;">1855</td></tr><tr><td>positives</td><td style="text-align:left;">10494</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">15</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">1.8680198208500096</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">1.2788395049811396</td></tr></table></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PERnworktours</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">PERage</span><span class="p">)</span>
<span class="n">PERnothertours</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">PERage</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">nv</span><span class="p">,</span><span class="n">nt</span> <span class="ow">in</span> <span class="n">vcounts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">nv</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">work_rates</span><span class="p">,</span> <span class="n">other_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.70</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.74</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">nv</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">work_rates</span><span class="p">,</span> <span class="n">other_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.13</span><span class="p">,</span> <span class="mf">0.74</span><span class="p">,</span> <span class="mf">0.09</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">nv</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">work_rates</span><span class="p">,</span> <span class="n">other_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.70</span><span class="p">,</span> <span class="mf">0.17</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">nv</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
        <span class="n">work_rates</span><span class="p">,</span> <span class="n">other_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.61</span><span class="p">,</span> <span class="mf">0.26</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">work_rates</span><span class="p">,</span> <span class="n">other_rates</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.53</span><span class="p">,</span> <span class="mf">0.33</span><span class="p">,</span> <span class="mf">0.09</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span>

    <span class="n">work_rates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">work_rates</span><span class="p">)</span>
    <span class="n">other_rates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other_rates</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">income_under</span><span class="p">,</span> <span class="n">income_over</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mi">150</span><span class="n">_000</span><span class="p">,</span> <span class="mi">120</span><span class="n">_000</span><span class="p">,</span> <span class="mi">90</span><span class="n">_000</span><span class="p">,</span> <span class="mi">60</span><span class="n">_000</span><span class="p">,</span> <span class="mi">30</span><span class="n">_000</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">]):</span>
        <span class="n">PERv</span> <span class="o">=</span> <span class="p">(</span><span class="n">PER</span><span class="o">.</span><span class="n">N_VEHICLES</span> <span class="o">==</span> <span class="n">nv</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">PER</span><span class="o">.</span><span class="n">INCOME</span><span class="o">&gt;=</span><span class="n">income_over</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">PER</span><span class="o">.</span><span class="n">INCOME</span><span class="o">&lt;</span><span class="n">income_under</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">income_over</span> <span class="o">==</span> <span class="mi">150</span><span class="n">_000</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">])</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.07</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.13</span><span class="p">,</span> <span class="mf">0.13</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">income_over</span> <span class="o">==</span> <span class="mi">120</span><span class="n">_000</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.03</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">])</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.13</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">income_over</span> <span class="o">==</span> <span class="mi">90</span><span class="n">_000</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.02</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">])</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.03</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">income_over</span> <span class="o">==</span> <span class="mi">60</span><span class="n">_000</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.02</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">income_over</span> <span class="o">==</span> <span class="mi">30</span><span class="n">_000</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">work_rates_</span> <span class="o">=</span> <span class="n">work_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">])</span>
            <span class="n">other_rates_</span> <span class="o">=</span> <span class="n">other_rates</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">])</span>
        <span class="n">j</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">PERv</span><span class="p">)</span>

        <span class="n">work_rates_</span><span class="p">[</span><span class="n">work_rates_</span><span class="o">&lt;</span><span class="mf">0.0001</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0001</span>
        <span class="n">work_rates_</span> <span class="o">/=</span> <span class="n">work_rates_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

        <span class="n">other_rates_</span><span class="p">[</span><span class="n">other_rates_</span><span class="o">&lt;</span><span class="mf">0.0001</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0001</span>
        <span class="n">other_rates_</span> <span class="o">/=</span> <span class="n">other_rates_</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

        <span class="n">PERnworktours</span><span class="p">[</span><span class="n">PERv</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="p">],</span> <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">work_rates_</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span> <span class="o">*</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;WORKS&#39;</span><span class="p">][</span><span class="n">PERv</span><span class="p">]</span>
        <span class="n">PERnothertours</span><span class="p">[</span><span class="n">PERv</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="p">],</span> <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">other_rates_</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">income_under</span><span class="p">,</span> <span class="n">income_over</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mi">150</span><span class="n">_000</span><span class="p">,</span> <span class="mi">120</span><span class="n">_000</span><span class="p">,</span> <span class="mi">90</span><span class="n">_000</span><span class="p">,</span> <span class="mi">60</span><span class="n">_000</span><span class="p">,</span> <span class="mi">0</span><span class="p">]):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">income_under</span><span class="p">,</span> <span class="n">income_over</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
inf 150000
150000 120000
120000 90000
90000 60000
60000 0
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Add counts of tours</span>

<span class="c1"># PER[&#39;N_WORK_TOURS&#39;] = PERnworktours = np.random.choice([0, 1, 2, 3], size=[n_PER, ], replace=True, p=[0.1, 0.8, 0.07, 0.03]).astype(</span>
<span class="c1">#     np.int64) * PER[&#39;WORKS&#39;]</span>
<span class="c1"># PER[&#39;N_OTHER_TOURS&#39;] = PERnothertours = np.random.choice([0, 1, 2, 3], size=[n_PER, ], replace=True, p=[0.2, 0.5, 0.2, 0.1]).astype(np.int64)</span>

<span class="n">PER</span><span class="p">[</span><span class="s1">&#39;N_WORK_TOURS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PERnworktours</span>
<span class="n">PER</span><span class="p">[</span><span class="s1">&#39;N_OTHER_TOURS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PERnothertours</span>
<span class="n">PER</span><span class="p">[</span><span class="s1">&#39;N_TOURS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PERntours</span> <span class="o">=</span> <span class="n">PERnworktours</span> <span class="o">+</span> <span class="n">PERnothertours</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="o">.</span><span class="n">INCOME</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">12349</td></tr><tr><td>minimum</td><td style="text-align:left;">1159.0</td></tr><tr><td>maximum</td><td style="text-align:left;">1495622.0</td></tr><tr><td>median</td><td style="text-align:left;">28757.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASVrgEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ0g1IQAAAAAAALoHAAAAAAAAPgMAAAAAAAChAQAAAAAAAOYAAAAAAAAAcwAAAAAAAABMAAAAAAAAACsAAAAAAAAAJgAAAAAAAACUdJRijAliaW5fZWRnZXOUaARoB0sAhZRoCYeUUpQoSwFLCoWUaA6MAmY4lEsASwGHlFKUKEsDaBJOTk5K/////0r/////SwB0lGKJQ1AAAAAAABySQHIcx3Ecru5AchzHcaxl/kBWVVVVJboGQXIcx3F0QQ5Bx3Ecx2HkEkFWVVVVCagWQeQ4juOwaxpBchzHcVgvHkEAAAAAgPkgQZR0lGKMEXplcm9zX2FyZV9kcm9wcGVklImMEnJhbmdlX2lzX3RydW5jYXRlZJRLAXUu" range_is_truncated="1" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are green if the displayed range truncates some extreme outliers.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p2517faa3df)" d="M 36.169034 83.457143  L 70.148832 83.457143  L 70.148832 10.831293  L 36.169034 10.831293  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p2517faa3df)" d="M 70.148832 83.457143  L 104.12863 83.457143  L 104.12863 66.558668  L 70.148832 66.558668  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p2517faa3df)" d="M 104.12863 83.457143  L 138.108428 83.457143  L 138.108428 76.366276  L 104.12863 76.366276  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p2517faa3df)" d="M 138.108428 83.457143  L 172.088226 83.457143  L 172.088226 79.894623  L 138.108428 79.894623  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p2517faa3df)" d="M 172.088226 83.457143  L 206.068024 83.457143  L 206.068024 81.492204  L 172.088226 81.492204  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p2517faa3df)" d="M 206.068024 83.457143  L 240.047822 83.457143  L 240.047822 82.474673  L 206.068024 82.474673  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p2517faa3df)" d="M 240.047822 83.457143  L 274.02762 83.457143  L 274.02762 82.807859  L 240.047822 82.807859  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p2517faa3df)" d="M 274.02762 83.457143  L 308.007418 83.457143  L 308.007418 83.089785  L 274.02762 83.089785  z " style="fill:#27b67b;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p2517faa3df)" d="M 308.007418 83.457143  L 341.987216 83.457143  L 341.987216 83.132501  L 308.007418 83.132501  z " style="fill:#27b67b;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m2b37e5bb76" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="35.530472" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(32.349222 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="90.626395" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(71.538895 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="145.722317" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(126.634817 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="200.81824" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(181.73074 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="255.914162" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(236.826662 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="311.010084" y="83.457143" xlink:href="#m2b37e5bb76"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(291.922584 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
       <use x="63.623047" xlink:href="#DejaVuSans-48"></use>
       <use x="127.246094" xlink:href="#DejaVuSans-48"></use>
       <use x="190.869141" xlink:href="#DejaVuSans-48"></use>
       <use x="254.492188" xlink:href="#DejaVuSans-48"></use>
       <use x="318.115234" xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_7">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_12">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_13">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p2517faa3df">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">72014.08492626138</td></tr><tr><td>stdev</td><td style="text-align:left;">109763.15833460975</td></tr><tr><td>zeros</td><td style="text-align:left;">0</td></tr><tr><td>positives</td><td style="text-align:left;">12349</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1159.0</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">1495622.0</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">72014.08492626138</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">109763.15833460975</td></tr></table></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># PER.sort_index(inplace=True)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PERSONID</th>
      <th>HHID</th>
      <th>HHIDX</th>
      <th>AGE</th>
      <th>WORKS</th>
      <th>N_VEHICLES</th>
      <th>INCOME</th>
      <th>N_WORK_TOURS</th>
      <th>N_OTHER_TOURS</th>
      <th>N_TOURS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>60000</td>
      <td>50000</td>
      <td>0</td>
      <td>33</td>
      <td>1</td>
      <td>1</td>
      <td>6026.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>60001</td>
      <td>50000</td>
      <td>0</td>
      <td>27</td>
      <td>1</td>
      <td>1</td>
      <td>6026.0</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>60002</td>
      <td>50000</td>
      <td>0</td>
      <td>31</td>
      <td>1</td>
      <td>1</td>
      <td>6026.0</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60003</td>
      <td>50000</td>
      <td>0</td>
      <td>81</td>
      <td>0</td>
      <td>1</td>
      <td>6026.0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>60004</td>
      <td>50001</td>
      <td>1</td>
      <td>39</td>
      <td>1</td>
      <td>0</td>
      <td>30538.0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Employment">
<h2>Employment<a class="headerlink" href="#Employment" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">total_employment</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="s1">&#39;WORKS&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">total_employment</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>7394
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Group 1 Retail Locus</span>

<span class="n">n_retail_jobs_1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_employment</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>

<span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">370</span><span class="p">,</span> <span class="mi">560</span><span class="p">,]</span>
<span class="n">cov</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3000</span><span class="p">],</span>
<span class="p">]</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">n_retail_jobs_1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">retail_locations_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">y</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">retail_locations_1</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">retail_locations_1</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">retail_locations_1</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">retail_locations_1</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>
<span class="n">retail_locations_1</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">retail_locations_1</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">retail_locations_1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_47_0.png" src="../_images/example_x-299_exampville-data-creator_47_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Group 2 Retail Background</span>

<span class="n">n_retail_jobs_2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_employment</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>

<span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">250</span><span class="p">,]</span>
<span class="n">cov</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">22000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22000</span><span class="p">],</span>
<span class="p">]</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">n_retail_jobs_2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">retail_locations_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">y</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">retail_locations_2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">retail_locations_2</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">retail_locations_2</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">retail_locations_2</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>
<span class="n">retail_locations_2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">retail_locations_2</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">retail_locations_2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb061c80b10&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_48_1.png" src="../_images/example_x-299_exampville-data-creator_48_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Group 3 Downtown Locus</span>

<span class="n">n_other_jobs_1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_employment</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">,]</span>
<span class="n">cov</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">22000</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22000</span><span class="p">],</span>
<span class="p">]</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">n_other_jobs_1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">other_locations_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">y</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">other_locations_1</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">other_locations_1</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">other_locations_1</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">other_locations_1</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>
<span class="n">other_locations_1</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">other_locations_1</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">other_locations_1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb011432710&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_49_1.png" src="../_images/example_x-299_exampville-data-creator_49_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Group 4 Background</span>

<span class="n">n_other_jobs_2</span> <span class="o">=</span> <span class="n">total_employment</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">other_locations_1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">retail_locations_2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">retail_locations_1</span><span class="p">)</span>

<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n_other_jobs_2</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">n_other_jobs_2</span><span class="p">)</span><span class="o">*</span><span class="mi">800</span>
<span class="n">other_locations_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">x2</span><span class="p">,</span>
    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">y2</span><span class="p">,</span>
<span class="p">})</span>
<span class="n">other_locations_2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">other_locations_2</span><span class="p">,</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">gpd</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">other_locations_2</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">other_locations_2</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span>
    <span class="n">crs</span><span class="o">=</span><span class="p">{},</span>
<span class="p">)</span>

<span class="n">other_locations_2</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">sjoin</span><span class="p">(</span><span class="n">other_locations_2</span><span class="p">,</span> <span class="n">taz_shape</span><span class="p">[[</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;within&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">other_locations_2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_50_0.png" src="../_images/example_x-299_exampville-data-creator_50_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Merge all employment</span>

<span class="n">retail_locations_1</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;retail&#39;</span>
<span class="n">retail_locations_2</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;retail&#39;</span>
<span class="n">other_locations_1</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;nonretail&#39;</span>
<span class="n">other_locations_2</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;nonretail&#39;</span>


<span class="n">job_location</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">retail_locations_1</span><span class="p">,</span><span class="n">retail_locations_2</span><span class="p">,</span><span class="n">other_locations_1</span><span class="p">,</span><span class="n">other_locations_2</span><span class="p">])</span>

<span class="n">job_location</span> <span class="o">=</span> <span class="n">job_location</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">job_location</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_location</span><span class="p">[</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">job_location</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_51_0.png" src="../_images/example_x-299_exampville-data-creator_51_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_employment</span> <span class="o">=</span> <span class="n">job_location</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;TAZ&#39;</span><span class="p">,</span><span class="s1">&#39;JOBTYPE&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">taz_employment</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;retail&#39;</span><span class="p">:</span><span class="s1">&#39;RETAIL_EMP&#39;</span><span class="p">,</span> <span class="s1">&#39;nonretail&#39;</span><span class="p">:</span><span class="s1">&#39;NONRETAIL_EMP&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_employment</span><span class="p">[</span><span class="s1">&#39;TOTAL_EMP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">taz_employment</span><span class="p">[</span><span class="s1">&#39;NONRETAIL_EMP&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">taz_employment</span><span class="p">[</span><span class="s1">&#39;RETAIL_EMP&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_employment</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_employment</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NONRETAIL_EMP</th>
      <th>RETAIL_EMP</th>
      <th>TOTAL_EMP</th>
    </tr>
    <tr>
      <th>TAZ</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>118</td>
      <td>340</td>
      <td>458</td>
    </tr>
    <tr>
      <th>2</th>
      <td>91</td>
      <td>0</td>
      <td>91</td>
    </tr>
    <tr>
      <th>3</th>
      <td>197</td>
      <td>2</td>
      <td>199</td>
    </tr>
    <tr>
      <th>4</th>
      <td>277</td>
      <td>8</td>
      <td>285</td>
    </tr>
    <tr>
      <th>5</th>
      <td>44</td>
      <td>13</td>
      <td>57</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Save</span>
<span class="n">taz_employment</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">employment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Network-Graph">
<h2>Network Graph<a class="headerlink" href="#Network-Graph" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">tee</span>
<span class="k">def</span> <span class="nf">pairwise</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="s2">&quot;s -&gt; (s0,s1), (s1,s2), (s2, s3), ...&quot;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">tee</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="nb">next</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">highway_route</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">11</span><span class="p">]</span>
<span class="n">transit_line</span> <span class="o">=</span> <span class="p">[</span><span class="mi">39</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">34</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">speed_road</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># minutes per mile</span>
<span class="n">speed_highway</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># minutes per mile</span>
<span class="n">speed_train</span> <span class="o">=</span> <span class="mf">1.2</span> <span class="c1"># minutes per mile</span>
<span class="n">speed_walk</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># minutes per mile</span>
<span class="n">speed_bike</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># minutes per mile</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">zone</span> <span class="ow">in</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="c1"># get &#39;not disjoint&#39; countries</span>
    <span class="n">neighbors</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="p">[</span><span class="o">~</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">disjoint</span><span class="p">(</span><span class="n">zone</span><span class="o">.</span><span class="n">geometry</span><span class="p">)]</span><span class="o">.</span><span class="n">TAZ</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">neighborc</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="p">[</span><span class="o">~</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">disjoint</span><span class="p">(</span><span class="n">zone</span><span class="o">.</span><span class="n">geometry</span><span class="p">)]</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="c1"># add names of neighbors as NEIGHBORS value</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">cent</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">neighbors</span><span class="p">,</span><span class="n">neighborc</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">zone</span><span class="o">.</span><span class="n">TAZ</span> <span class="o">!=</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">otaz</span><span class="p">,</span> <span class="n">dtaz</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">zone</span><span class="o">.</span><span class="n">TAZ</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="p">(</span><span class="n">zone</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">cent</span><span class="p">))</span> <span class="o">/</span> <span class="mi">100</span>
            <span class="k">if</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="n">highway_route</span> <span class="ow">and</span> <span class="n">dtaz</span> <span class="ow">in</span> <span class="n">highway_route</span><span class="p">:</span>
                <span class="n">cartime</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">speed_highway</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cartime</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">speed_road</span>
            <span class="k">if</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
                <span class="n">cartime</span> <span class="o">+=</span> <span class="mi">3</span> <span class="c1"># congestion</span>
            <span class="k">if</span> <span class="n">dtaz</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
                <span class="n">cartime</span> <span class="o">+=</span> <span class="mi">5</span> <span class="c1"># congestion</span>
            <span class="k">if</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="n">transit_line</span> <span class="ow">and</span> <span class="n">dtaz</span> <span class="ow">in</span> <span class="n">transit_line</span><span class="p">:</span>
                <span class="n">transit_ivtt</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">speed_train</span>
                <span class="n">transit_ovtt</span> <span class="o">=</span> <span class="mi">999999</span>
                <span class="n">transit_time</span> <span class="o">=</span> <span class="n">transit_ivtt</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">transit_ivtt</span> <span class="o">=</span> <span class="mi">999999</span>
                <span class="n">transit_ovtt</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="n">speed_walk</span>
                <span class="n">transit_time</span> <span class="o">=</span> <span class="n">transit_ovtt</span>
            <span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
                <span class="n">otaz</span><span class="p">,</span> <span class="n">dtaz</span><span class="p">,</span>
                <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">cartime</span><span class="o">=</span><span class="n">cartime</span><span class="p">,</span>
                <span class="n">transit_ovtt</span><span class="o">=</span><span class="n">transit_ovtt</span><span class="p">,</span>
                <span class="n">transit_ivtt</span><span class="o">=</span><span class="n">transit_ivtt</span><span class="p">,</span>
                <span class="n">transit_time</span><span class="o">=</span><span class="n">transit_time</span><span class="p">,</span>
            <span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_shape</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">TAZ</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">centroids</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">centroid</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Highway Map</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span>
    <span class="n">g</span><span class="p">,</span>
    <span class="n">pos</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="n">p</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">centroids</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()},</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">arrows</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">edgelist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pairwise</span><span class="p">(</span><span class="n">highway_route</span><span class="p">))</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_65_0.png" src="../_images/example_x-299_exampville-data-creator_65_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Transit Map</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">taz_shape</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span>
    <span class="n">g</span><span class="p">,</span>
    <span class="n">pos</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="n">p</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">centroids</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()},</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">arrows</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">edgelist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pairwise</span><span class="p">(</span><span class="n">transit_line</span><span class="p">))</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_66_0.png" src="../_images/example_x-299_exampville-data-creator_66_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Skim walk times</span>

<span class="n">WALKDIST</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>

<span class="k">for</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">41</span><span class="p">):</span>
    <span class="n">shortpaths</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path_length</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">otaz</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;distance&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dtaz</span><span class="p">,</span><span class="n">t</span> <span class="ow">in</span> <span class="n">shortpaths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">WALKDIST</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">dtaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="c1"># Intrazonal</span>
    <span class="n">WALKDIST</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">otaz</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">area</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>

<span class="k">print</span><span class="p">(</span><span class="n">WALKDIST</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[1.26008879 5.33674896 4.58318093 ... 6.18954756 1.69554975 2.37320583]
 [5.33674896 1.58559083 7.10162147 ... 3.58697088 6.58003239 4.68712856]
 [4.58318093 7.10162147 0.84878748 ... 6.03594579 3.16473549 2.58607677]
 ...
 [6.18954756 3.58697088 6.03594579 ... 1.47478351 7.36821732 4.27530036]
 [1.69554975 6.58003239 3.16473549 ... 7.36821732 1.52806696 3.1778055 ]
 [2.37320583 4.68712856 2.58607677 ... 4.27530036 3.1778055  0.93934102]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Skim car times</span>

<span class="n">CARTIME</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>
<span class="n">CARDIST</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>

<span class="k">for</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">41</span><span class="p">):</span>
    <span class="n">shortpaths</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">otaz</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;cartime&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dtaz</span><span class="p">,</span><span class="n">pth</span> <span class="ow">in</span> <span class="n">shortpaths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">cartime</span><span class="p">,</span> <span class="n">cardist</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">(</span><span class="n">pth</span><span class="p">):</span>
            <span class="n">cartime</span> <span class="o">+=</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">][</span><span class="s1">&#39;cartime&#39;</span><span class="p">]</span>
            <span class="n">cardist</span> <span class="o">+=</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">][</span><span class="s1">&#39;distance&#39;</span><span class="p">]</span>
        <span class="n">CARTIME</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">dtaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cartime</span>
        <span class="n">CARDIST</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">dtaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cardist</span>
    <span class="c1"># Intrazonal</span>
    <span class="n">intrazonal_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">otaz</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">area</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span>
    <span class="n">CARTIME</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">intrazonal_dist</span> <span class="o">*</span> <span class="n">speed_road</span>
    <span class="n">CARDIST</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">intrazonal_dist</span>
    <span class="k">if</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
        <span class="n">CARTIME</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">5</span> <span class="c1"># congestion</span>

<span class="k">print</span><span class="p">(</span><span class="n">CARTIME</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 3.78026636  7.55074623 20.03817767 ... 14.84435807  5.08664924
   7.1196175 ]
 [ 7.55074623  4.75677248 21.53156082 ... 10.76091265  6.58003239
   7.46190167]
 [18.03817767 19.53156082  7.54636244 ... 26.82517266 12.95152843
  18.69703682]
 ...
 [14.84435807 10.76091265 28.82517266 ...  4.42435054 13.87364423
  12.82590109]
 [ 5.08664924  6.58003239 14.95152843 ... 13.87364423  4.58420087
   6.14890366]
 [ 7.1196175   7.46190167 20.69703682 ... 12.82590109  6.14890366
   2.81802305]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Skim Transit times</span>

<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">tee</span>
<span class="k">def</span> <span class="nf">pairwise</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="s2">&quot;s -&gt; (s0,s1), (s1,s2), (s2, s3), ...&quot;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">tee</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="nb">next</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

<span class="n">TRANSIT_IVTT</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>
<span class="n">TRANSIT_OVTT</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">])</span>


<span class="k">for</span> <span class="n">otaz</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">41</span><span class="p">):</span>
    <span class="n">shortpaths</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">otaz</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;transit_time&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dtaz</span><span class="p">,</span><span class="n">pth</span> <span class="ow">in</span> <span class="n">shortpaths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">ivtt</span><span class="p">,</span> <span class="n">ovtt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="n">pairwise</span><span class="p">(</span><span class="n">pth</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">][</span><span class="s1">&#39;transit_ivtt&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">999999</span><span class="p">:</span>
                <span class="n">ivtt</span> <span class="o">+=</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">][</span><span class="s1">&#39;transit_ivtt&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ovtt</span> <span class="o">+=</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">][</span><span class="s1">&#39;transit_ovtt&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ovtt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ovtt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">otaz</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">area</span><span class="p">)</span><span class="o">/</span><span class="mi">150</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">taz_shape</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">dtaz</span><span class="p">,</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">area</span><span class="p">)</span><span class="o">/</span><span class="mi">150</span>
        <span class="n">TRANSIT_IVTT</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">dtaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ivtt</span>
        <span class="n">TRANSIT_OVTT</span><span class="p">[</span><span class="n">otaz</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">dtaz</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ovtt</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">TRANSIT_IVTT</span><span class="p">[:</span><span class="mi">5</span><span class="p">,:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 0.         12.16681923  3.34322095  0.         12.16681923]
 [12.16681923  0.          7.28835487  8.82359828  0.        ]
 [ 3.34322095  7.28835487  0.          0.          7.28835487]
 [ 0.          8.82359828  0.          0.          8.82359828]
 [12.16681923  0.          7.28835487  8.82359828  0.        ]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">TRANSIT_IVTT</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 0.         10.27128369  4.87262088  1.89553554 10.27128369]
 [10.27128369  0.          1.65255376 12.16681923  0.        ]
 [ 4.87262088  1.65255376  0.          0.          0.        ]
 [ 1.89553554 12.16681923  0.          0.          0.        ]
 [10.27128369  0.          0.          0.          0.        ]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">TRANSIT_OVTT</span><span class="p">[:</span><span class="mi">5</span><span class="p">,:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 1.68011838 55.40770608 53.31126782 54.30474188 51.92986575]
 [55.40770608  2.1141211  42.40834339 41.86677092 39.51558199]
 [53.31126782 42.40834339  1.13171664 39.77033266 38.93050306]
 [54.30474188 41.86677092 39.77033266  1.59494151 38.38893059]
 [51.92986575 39.51558199 38.93050306 38.38893059  1.33312576]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">nx</span><span class="o">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;transit_time&#39;</span><span class="p">)[</span><span class="mi">17</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[30, 17]
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">TRANSIT_OVTT</span><span class="p">[</span><span class="mi">30</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>13.623549779792938
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">TRANSIT_OVTT</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 2.13185101 44.79634199 52.86833727 45.94660431 47.64017297]
 [44.79634199  2.23727869 96.67959495 90.7429463  92.43651496]
 [52.86833727 96.67959495  1.28229674 57.83865222 79.11952302]
 [45.94660431 90.7429463  57.83865222  3.35766701 97.40276959]
 [47.64017297 92.43651496 79.11952302 97.40276959  2.30316209]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">skims</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">skims</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Assemble Skims into an OMX File</span>
<span class="n">skims_omx</span> <span class="o">=</span> <span class="n">larch</span><span class="o">.</span><span class="n">OMX</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">skims</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;TRANSIT_IVTT&#39;</span><span class="p">,</span> <span class="n">TRANSIT_IVTT</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;TRANSIT_OVTT&#39;</span><span class="p">,</span> <span class="n">TRANSIT_OVTT</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;TRANSIT_FARE&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">TRANSIT_IVTT</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mf">2.50</span><span class="p">)</span>

<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;WALK_DIST&#39;</span><span class="p">,</span> <span class="n">WALKDIST</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;WALK_TIME&#39;</span><span class="p">,</span> <span class="n">WALKDIST</span> <span class="o">*</span> <span class="n">speed_walk</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;BIKE_TIME&#39;</span><span class="p">,</span> <span class="n">WALKDIST</span> <span class="o">*</span> <span class="n">speed_bike</span><span class="p">)</span>

<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;AUTO_TIME&#39;</span><span class="p">,</span> <span class="n">CARTIME</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;AUTO_COST&#39;</span><span class="p">,</span> <span class="n">CARDIST</span> <span class="o">*</span> <span class="mf">0.35</span><span class="p">)</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_matrix</span><span class="p">(</span><span class="s1">&#39;AUTO_DIST&#39;</span><span class="p">,</span> <span class="n">CARDIST</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nZones</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
<span class="n">skims_omx</span><span class="o">.</span><span class="n">add_lookup</span><span class="p">(</span><span class="s1">&#39;TAZ_ID&#39;</span><span class="p">,</span> <span class="n">taz_ids</span><span class="p">);</span>


</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nZones</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>

<span class="n">taz_area_types</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;SUB&#39;</span><span class="p">)</span>
<span class="n">taz_area_types</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">taz_ids</span><span class="p">,</span> <span class="n">zones_cbd</span><span class="p">)]</span> <span class="o">=</span> <span class="s1">&#39;CBD&#39;</span>
<span class="n">taz_area_types</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">taz_ids</span><span class="p">,</span> <span class="n">zones_urb</span><span class="p">)]</span> <span class="o">=</span> <span class="s1">&#39;URB&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">skims_omx</span><span class="o">.</span><span class="n">add_lookup</span><span class="p">(</span><span class="s1">&#39;TAZ_AREA_TYPE&#39;</span><span class="p">,</span> <span class="n">taz_area_types</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">skims_omx</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">skims_omx</span> <span class="o">=</span> <span class="n">larch</span><span class="o">.</span><span class="n">OMX</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">skims</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Tours">
<h2>Tours<a class="headerlink" href="#Tours" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Tour Modes</span>
<span class="n">DA</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">SR</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Walk</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">Bike</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Transit</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Tours</span>


<span class="n">n_TOUR</span> <span class="o">=</span> <span class="n">PERntours</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">TOURid</span>      <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURper</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURperidx</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURhh</span>      <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURhhidx</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURdtaz</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURstops</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURmode</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">TOURpurpose</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="c1"># Work tours, then other tours</span>
<span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_PER</span><span class="p">):</span>
    <span class="n">TOURper</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">PERid</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>
    <span class="n">TOURperidx</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">PERidx</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>
    <span class="n">TOURhh</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">PERhhid</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>
    <span class="n">TOURhhidx</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">PERhhidx</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>
    <span class="n">TOURpurpose</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">TOURpurpose</span><span class="p">[(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">]):(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">TOURstops</span><span class="p">[</span><span class="n">n2</span><span class="p">:(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">],</span> <span class="p">],</span>
        <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">],</span>
    <span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
    <span class="n">TOURstops</span><span class="p">[(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">]):(</span><span class="n">n2</span> <span class="o">+</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
        <span class="n">size</span><span class="o">=</span><span class="p">[</span><span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span><span class="o">-</span><span class="n">PERnworktours</span><span class="p">[</span><span class="n">n1</span><span class="p">],</span> <span class="p">],</span>
        <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">],</span>
    <span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
    <span class="n">n2</span> <span class="o">+=</span> <span class="n">PERntours</span><span class="p">[</span><span class="n">n1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PERnworktours</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="n">PERworks</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="n">PERid</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>(array([1, 1, 1, 0, 1]),
 array([1, 1, 1, 0, 1]),
 array([60000, 60001, 60002, 60003, 60004]))
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#### Utility by mode to various destinations</span>
<span class="n">nameModes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;DA&#39;</span><span class="p">,</span> <span class="s1">&#39;SR&#39;</span><span class="p">,</span> <span class="s1">&#39;Walk&#39;</span><span class="p">,</span> <span class="s1">&#39;Bike&#39;</span><span class="p">,</span> <span class="s1">&#39;Transit&#39;</span><span class="p">]</span>
<span class="n">mDA</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">mSR</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mWA</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">mBI</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">mTR</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">nModes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nameModes</span><span class="p">)</span>

<span class="n">nModeNests</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">paramCOST</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.312</span>
<span class="n">paramTIME</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.123</span>
<span class="n">paramNMTIME</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.246</span>
<span class="n">paramDIST</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.00357</span>
<span class="n">paramLNDIST</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.00642</span>

<span class="n">paramMUcar</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">paramMUnon</span> <span class="o">=</span> <span class="mf">0.75</span>
<span class="n">paramMUmot</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="n">paramMUtop</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">zone_retail</span> <span class="o">=</span> <span class="n">taz_employment</span><span class="o">.</span><span class="n">RETAIL_EMP</span>
<span class="n">zone_nonretail</span> <span class="o">=</span>  <span class="n">taz_employment</span><span class="o">.</span><span class="n">NONRETAIL_EMP</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Util</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="n">nModes</span><span class="p">])</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">):</span>
    <span class="c1"># Mode</span>
    <span class="n">otazi</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">HOMETAZ</span><span class="p">[</span><span class="n">TOURhhidx</span><span class="p">[</span><span class="n">n</span><span class="p">]]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramTIME</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_COST</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramCOST</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">HH</span><span class="o">.</span><span class="n">INCOME</span><span class="p">[</span><span class="n">TOURhhidx</span><span class="p">[</span><span class="n">n</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="mi">75000</span><span class="p">:</span>
        <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">1.0</span>
        <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">-=</span> <span class="mf">0.5</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mSR</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramTIME</span>
        <span class="o">-</span> <span class="mf">1.0</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_COST</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramCOST</span> <span class="o">*</span> <span class="mf">0.5</span>
    <span class="p">)</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mWA</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">3.0</span> <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">WALK_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramNMTIME</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mBI</span><span class="p">]</span> <span class="o">+=</span> <span class="o">-</span><span class="mf">2.25</span> <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">BIKE_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramNMTIME</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span>
        <span class="o">+</span> <span class="mf">1.5</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">TRANSIT_IVTT</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramTIME</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">TRANSIT_OVTT</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramTIME</span> <span class="o">*</span> <span class="mf">2.2</span>
        <span class="o">+</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">TRANSIT_FARE</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">*</span> <span class="n">paramCOST</span>
    <span class="p">)</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">0.33</span> <span class="o">*</span> <span class="n">TOURstops</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.1</span>

    <span class="c1"># Destination</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span> <span class="o">+=</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_DIST</span><span class="p">[:][</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:,</span> <span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">paramDIST</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">skims_omx</span><span class="o">.</span><span class="n">AUTO_DIST</span><span class="p">[:][</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:,</span> <span class="bp">None</span><span class="p">])</span> <span class="o">*</span> <span class="n">paramLNDIST</span>
    <span class="k">if</span> <span class="n">HH</span><span class="o">.</span><span class="n">INCOME</span><span class="p">[</span><span class="n">TOURhhidx</span><span class="p">[</span><span class="n">n</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="mi">50000</span><span class="p">:</span>
        <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span> <span class="o">+=</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zone_retail</span> <span class="o">*</span> <span class="mf">2.71828</span> <span class="o">+</span> <span class="n">zone_nonretail</span><span class="p">)[:,</span> <span class="bp">None</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span> <span class="o">+=</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">zone_retail</span> <span class="o">+</span> <span class="n">zone_nonretail</span> <span class="o">*</span> <span class="mf">2.71828</span><span class="p">)[:,</span> <span class="bp">None</span><span class="p">]</span>
    <span class="c1"># flog(&#39;Util[n,:,:]  ...&#39;)</span>
    <span class="c1">#               flog(&#39;{}&#39;,Util[n,:,:])</span>
    <span class="c1"># Unavails</span>
    <span class="k">if</span> <span class="n">PERage</span><span class="p">[</span><span class="n">TOURperidx</span><span class="p">[</span><span class="n">n</span><span class="p">]]</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
        <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">TRANSIT_FARE</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">WALK_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">,</span> <span class="n">mWA</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="n">skims_omx</span><span class="o">.</span><span class="n">BIKE_TIME</span><span class="p">[</span><span class="n">otazi</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">,</span> <span class="n">mBI</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">exp</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">CPr_car</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># [DA,SR]</span>
<span class="n">CPr_non</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># [WA,BI]</span>
<span class="n">CPr_mot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># [TR,Car]</span>
<span class="n">CPr_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># [Non,Mot]</span>

<span class="n">NLS_car</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="p">])</span>
<span class="n">NLS_non</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="p">])</span>
<span class="n">NLS_mot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="p">])</span>
<span class="n">MLS_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="p">])</span>  <span class="c1"># Mode choice logsum</span>
<span class="n">DLS_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="p">])</span>  <span class="c1"># Dest choice logsum</span>

<span class="n">Pr_modes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">,</span> <span class="n">nModes</span><span class="p">])</span>
<span class="n">Pr_dest</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">n_TOUR</span><span class="p">,</span> <span class="n">nZones</span><span class="p">])</span>

<span class="k">with</span> <span class="n">np</span><span class="o">.</span><span class="n">errstate</span><span class="p">(</span><span class="n">divide</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">invalid</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">):</span>
        <span class="n">NLS_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">paramMUcar</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">/</span> <span class="n">paramMUcar</span><span class="p">)</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mSR</span><span class="p">]</span> <span class="o">/</span> <span class="n">paramMUcar</span><span class="p">))</span>
        <span class="n">NLS_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">paramMUnon</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mWA</span><span class="p">]</span> <span class="o">/</span> <span class="n">paramMUnon</span><span class="p">)</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mBI</span><span class="p">]</span> <span class="o">/</span> <span class="n">paramMUnon</span><span class="p">))</span>
        <span class="n">NLS_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">paramMUmot</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">NLS_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">/</span> <span class="n">paramMUmot</span><span class="p">)</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">/</span> <span class="n">paramMUmot</span><span class="p">))</span>
        <span class="n">MLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">NLS_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">NLS_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]))</span>
        <span class="n">DLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">MLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])))</span>

        <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">MLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">DLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>

        <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">NLS_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">MLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUtop</span><span class="p">)</span>
        <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">NLS_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">MLS_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUtop</span><span class="p">)</span>
        <span class="n">CPr_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">-</span> <span class="n">NLS_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUmot</span><span class="p">)</span>
        <span class="n">CPr_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">NLS_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">NLS_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUmot</span><span class="p">)</span>
        <span class="n">CPr_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mWA</span><span class="p">]</span> <span class="o">-</span> <span class="n">NLS_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUnon</span><span class="p">)</span>
        <span class="n">CPr_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mBI</span><span class="p">]</span> <span class="o">-</span> <span class="n">NLS_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUnon</span><span class="p">)</span>
        <span class="n">CPr_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">-</span> <span class="n">NLS_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUcar</span><span class="p">)</span>
        <span class="n">CPr_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp</span><span class="p">((</span><span class="n">Util</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mSR</span><span class="p">]</span> <span class="o">-</span> <span class="n">NLS_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:])</span> <span class="o">/</span> <span class="n">paramMUcar</span><span class="p">)</span>

        <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mTR</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPr_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mWA</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPr_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mBI</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPr_non</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mDA</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPr_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="n">mSR</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPr_car</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_mot</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">CPr_top</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">Pr_dest</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:]</span>

<span class="n">Pr_modes</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">Pr_modes</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[84]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Choices</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_TOUR</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">nModes</span> <span class="o">*</span> <span class="n">nZones</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;total prob = {}&quot;</span><span class="p">,</span> <span class="n">Pr_modes</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
        <span class="k">raise</span>
    <span class="n">dtazi</span> <span class="o">=</span> <span class="n">ch</span> <span class="o">//</span> <span class="n">nModes</span>
    <span class="n">modei</span> <span class="o">=</span> <span class="n">ch</span> <span class="o">-</span> <span class="p">(</span><span class="n">dtazi</span> <span class="o">*</span> <span class="n">nModes</span><span class="p">)</span>
    <span class="n">TOURdtaz</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">dtazi</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">TOURmode</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">modei</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[85]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f_tour</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
    <span class="nb">dict</span><span class="p">([</span>
        <span class="p">(</span><span class="s1">&#39;TOURID&#39;</span><span class="p">,</span> <span class="n">TOURid</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;HHID&#39;</span><span class="p">,</span> <span class="n">TOURhh</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;PERSONID&#39;</span><span class="p">,</span> <span class="n">TOURper</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;DTAZ&#39;</span><span class="p">,</span> <span class="n">TOURdtaz</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;TOURMODE&#39;</span><span class="p">,</span> <span class="n">TOURmode</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;TOURPURP&#39;</span><span class="p">,</span> <span class="n">TOURpurpose</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;N_STOPS&#39;</span><span class="p">,</span> <span class="n">TOURstops</span><span class="p">),</span>
    <span class="p">])</span>
<span class="p">)</span>
<span class="c1"># f_tour_filename = os.path.join(directory, &#39;exampville_tours.csv&#39;)</span>
<span class="c1"># f_tour.to_csv(f_tour_filename)</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[86]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f_tour</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;TOURID&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[87]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">DA</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">SR</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Walk</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">Bike</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Transit</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[88]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dfs</span> <span class="o">=</span> <span class="n">larch</span><span class="o">.</span><span class="n">DataFrames</span><span class="p">(</span>
    <span class="n">co</span><span class="o">=</span><span class="n">f_tour</span><span class="p">,</span>
    <span class="n">alt_codes</span><span class="o">=</span><span class="p">[</span><span class="n">DA</span><span class="p">,</span><span class="n">SR</span><span class="p">,</span><span class="n">Walk</span><span class="p">,</span><span class="n">Bike</span><span class="p">,</span><span class="n">Transit</span><span class="p">],</span>
    <span class="n">alt_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DA&#39;</span><span class="p">,</span><span class="s1">&#39;SR&#39;</span><span class="p">,</span><span class="s1">&#39;Walk&#39;</span><span class="p">,</span><span class="s1">&#39;Bike&#39;</span><span class="p">,</span><span class="s1">&#39;Transit&#39;</span><span class="p">],</span>
    <span class="n">ch_name</span><span class="o">=</span><span class="s1">&#39;TOURMODE&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[89]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dfs</span><span class="o">.</span><span class="n">data_ch</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[89]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
    </tr>
    <tr>
      <th>TOURID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20734</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20735</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>20736</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20737</th>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>20739 rows × 5 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[90]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dfs</span><span class="o">.</span><span class="n">choice_avail_summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[90]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>chosen</th>
      <th>available</th>
      <th>chosen but not available</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>DA</td>
      <td>16469.0</td>
      <td>None</td>
      <td>16469.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>SR</td>
      <td>2511.0</td>
      <td>None</td>
      <td>2511.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Walk</td>
      <td>525.0</td>
      <td>None</td>
      <td>525.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Bike</td>
      <td>174.0</td>
      <td>None</td>
      <td>174.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Transit</td>
      <td>1060.0</td>
      <td>None</td>
      <td>1060.0</td>
    </tr>
    <tr>
      <th>&lt; Total All Alternatives &gt;</th>
      <td></td>
      <td>20739.0</td>
      <td></td>
      <td>20739.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Roll-Ups">
<h2>Roll Ups<a class="headerlink" href="#Roll-Ups" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[91]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Trips Per Person</span>
<span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">+</span><span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_STOPS&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[92]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">f_tour</span><span class="o">.</span><span class="n">TOURPURP</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span> <span class="o">-</span> <span class="p">((</span><span class="n">f_tour</span><span class="o">.</span><span class="n">TOURPURP</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">f_tour</span><span class="o">.</span><span class="n">N_STOPS</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">))</span>
<span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">f_tour</span><span class="o">.</span><span class="n">TOURPURP</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span> <span class="o">-</span> <span class="p">((</span><span class="n">f_tour</span><span class="o">.</span><span class="n">TOURPURP</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">f_tour</span><span class="o">.</span><span class="n">N_STOPS</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">))</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">f_tour</span><span class="o">.</span><span class="n">TOURPURP</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span>
<span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">f_tour</span><span class="p">[</span><span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f_tour</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>HHID</th>
      <th>PERSONID</th>
      <th>DTAZ</th>
      <th>TOURMODE</th>
      <th>TOURPURP</th>
      <th>N_STOPS</th>
      <th>N_TRIPS</th>
      <th>N_TRIPS_HBW</th>
      <th>N_TRIPS_HBO</th>
      <th>N_TRIPS_NHB</th>
    </tr>
    <tr>
      <th>TOURID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>50000</td>
      <td>60000</td>
      <td>22</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50000</td>
      <td>60001</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50000</td>
      <td>60001</td>
      <td>10</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50000</td>
      <td>60002</td>
      <td>20</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>50000</td>
      <td>60002</td>
      <td>20</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20734</th>
      <td>54998</td>
      <td>72343</td>
      <td>40</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20735</th>
      <td>54998</td>
      <td>72344</td>
      <td>36</td>
      <td>5</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20736</th>
      <td>54999</td>
      <td>72345</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>20737</th>
      <td>54999</td>
      <td>72346</td>
      <td>28</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>54999</td>
      <td>72347</td>
      <td>11</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>20739 rows × 10 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PER</span><span class="o">.</span><span class="n">PERSONID</span>

<span class="k">for</span> <span class="n">ttype</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s1">&#39;N_TRIPS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="n">PER</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span> <span class="o">=</span> <span class="n">f_tour</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;PERSONID&#39;</span><span class="p">)[</span><span class="n">ttype</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">PER</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span> <span class="o">=</span> <span class="n">PER</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[95]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[95]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PERSONID</th>
      <th>HHID</th>
      <th>HHIDX</th>
      <th>AGE</th>
      <th>WORKS</th>
      <th>N_VEHICLES</th>
      <th>INCOME</th>
      <th>N_WORK_TOURS</th>
      <th>N_OTHER_TOURS</th>
      <th>N_TOURS</th>
      <th>N_TRIPS</th>
      <th>N_TRIPS_HBW</th>
      <th>N_TRIPS_HBO</th>
      <th>N_TRIPS_NHB</th>
    </tr>
    <tr>
      <th>PERSONID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>60000</th>
      <td>60000</td>
      <td>50000</td>
      <td>0</td>
      <td>33</td>
      <td>1</td>
      <td>1</td>
      <td>6026.000000</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>60001</th>
      <td>60001</td>
      <td>50000</td>
      <td>0</td>
      <td>27</td>
      <td>1</td>
      <td>1</td>
      <td>6026.000000</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>60002</th>
      <td>60002</td>
      <td>50000</td>
      <td>0</td>
      <td>31</td>
      <td>1</td>
      <td>1</td>
      <td>6026.000000</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>5</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>60003</th>
      <td>60003</td>
      <td>50000</td>
      <td>0</td>
      <td>81</td>
      <td>0</td>
      <td>1</td>
      <td>6026.000000</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>60004</th>
      <td>60004</td>
      <td>50001</td>
      <td>1</td>
      <td>39</td>
      <td>1</td>
      <td>0</td>
      <td>30538.000000</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>72344</th>
      <td>72344</td>
      <td>54998</td>
      <td>4998</td>
      <td>11</td>
      <td>0</td>
      <td>1</td>
      <td>17409.785665</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>72345</th>
      <td>72345</td>
      <td>54999</td>
      <td>4999</td>
      <td>35</td>
      <td>1</td>
      <td>2</td>
      <td>23041.675567</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>72346</th>
      <td>72346</td>
      <td>54999</td>
      <td>4999</td>
      <td>20</td>
      <td>0</td>
      <td>2</td>
      <td>23041.675567</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>0</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>72347</th>
      <td>72347</td>
      <td>54999</td>
      <td>4999</td>
      <td>30</td>
      <td>0</td>
      <td>2</td>
      <td>23041.675567</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>72348</th>
      <td>72348</td>
      <td>54999</td>
      <td>4999</td>
      <td>82</td>
      <td>0</td>
      <td>2</td>
      <td>23041.675567</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>12349 rows × 14 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[96]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">HHID</span>

<span class="k">for</span> <span class="n">ttype</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s1">&#39;N_TRIPS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="n">HH</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span> <span class="o">=</span> <span class="n">PER</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HHID&#39;</span><span class="p">)[</span><span class="n">ttype</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">HH</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span> <span class="o">=</span> <span class="n">HH</span><span class="p">[</span><span class="n">ttype</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[97]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="p">[</span><span class="s1">&#39;N_WORKERS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PER</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HHID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">WORKS</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">HH</span><span class="p">[</span><span class="s1">&#39;N_WORKERS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">N_WORKERS</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[98]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="p">[</span><span class="s1">&#39;N_WORKERS&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">statistics</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[98]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><table style="margin-top:1px;"><tr><th>key</th><th style="text-align:left;">value</th></tr><tr><td>n</td><td style="text-align:left;">5000</td></tr><tr><td>minimum</td><td style="text-align:left;">0</td></tr><tr><td>maximum</td><td style="text-align:left;">8</td></tr><tr><td>median</td><td style="text-align:left;">1.0</td></tr><tr><td>histogram</td><td style="text-align:left;"><div class="figure" metadata="gASViQEAAAAAAAB9lCiMC2Jpbl9oZWlnaHRzlIwVbnVtcHkuY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCYWUaAWMBWR0eXBllJOUjAJpOJRLAEsBh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQ0jZAgAAAAAAAEYIAAAAAAAA0QUAAAAAAADGAQAAAAAAAJEAAAAAAAAAKgAAAAAAAAAQAAAAAAAAAAYAAAAAAAAAAQAAAAAAAACUdJRijAliaW5fZWRnZXOUaARoB0sAhZRoCYeUUpQoSwFLCoWUaBGJQ1AAAAAAAAAAAAEAAAAAAAAAAgAAAAAAAAADAAAAAAAAAAQAAAAAAAAABQAAAAAAAAAGAAAAAAAAAAcAAAAAAAAACAAAAAAAAAAJAAAAAAAAAJR0lGKMEXplcm9zX2FyZV9kcm9wcGVklImMEnJhbmdlX2lzX3RydW5jYXRlZJSJdS4=" range_is_truncated="False" style="min-width:5in" zeros_are_dropped="False"><svg height="107.335268pt" version="1.1" viewBox="0 0 364.478125 107.335268" width="364.478125pt">
 <defs>
  <style type="text/css">
*{stroke-linecap:butt;stroke-linejoin:round;}
  </style>
 </defs>
 <g id="figure_1">
  <title>Histograms are purple if the data is represented as discrete values.</title><g id="patch_1">
   <path d="M 0 107.335268  L 364.478125 107.335268  L 364.478125 0  L 0 0  z " style="fill:none;"></path>
  </g>
  <g id="axes_1">
   <g id="patch_2">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  L 357.278125 7.2  L 20.878125 7.2  z " style="fill:none;"></path>
   </g>
   <g id="patch_3">
    <path clip-path="url(#p61578956eb)" d="M 36.169034 83.457143  L 63.970687 83.457143  L 63.970687 58.45986  L 36.169034 58.45986  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_4">
    <path clip-path="url(#p61578956eb)" d="M 70.9211 83.457143  L 98.722753 83.457143  L 98.722753 10.831293  L 70.9211 10.831293  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_5">
    <path clip-path="url(#p61578956eb)" d="M 105.673166 83.457143  L 133.474819 83.457143  L 133.474819 32.399593  L 105.673166 32.399593  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_6">
    <path clip-path="url(#p61578956eb)" d="M 140.425232 83.457143  L 168.226885 83.457143  L 168.226885 67.889562  L 140.425232 67.889562  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_7">
    <path clip-path="url(#p61578956eb)" d="M 175.177299 83.457143  L 202.978951 83.457143  L 202.978951 78.485118  L 175.177299 78.485118  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_8">
    <path clip-path="url(#p61578956eb)" d="M 209.929365 83.457143  L 237.731018 83.457143  L 237.731018 82.01697  L 209.929365 82.01697  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_9">
    <path clip-path="url(#p61578956eb)" d="M 244.681431 83.457143  L 272.483084 83.457143  L 272.483084 82.908506  L 244.681431 82.908506  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_10">
    <path clip-path="url(#p61578956eb)" d="M 279.433497 83.457143  L 307.23515 83.457143  L 307.23515 83.251404  L 279.433497 83.251404  z " style="fill:#6478ba;"></path>
   </g>
   <g id="patch_11">
    <path clip-path="url(#p61578956eb)" d="M 314.185563 83.457143  L 341.987216 83.457143  L 341.987216 83.422853  L 314.185563 83.422853  z " style="fill:#6478ba;"></path>
   </g>
   <g id="matplotlib.axis_1">
    <g id="xtick_1">
     <g id="line2d_1">
      <defs>
       <path d="M 0 0  L 0 3.5  " id="m5a1459fcec" style="stroke:#000000;stroke-width:0.8;"></path>
      </defs>
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="50.069861" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_1">

      <defs>
       <path d="M 31.78125 66.40625  Q 24.171875 66.40625 20.328125 58.90625  Q 16.5 51.421875 16.5 36.375  Q 16.5 21.390625 20.328125 13.890625  Q 24.171875 6.390625 31.78125 6.390625  Q 39.453125 6.390625 43.28125 13.890625  Q 47.125 21.390625 47.125 36.375  Q 47.125 51.421875 43.28125 58.90625  Q 39.453125 66.40625 31.78125 66.40625  z M 31.78125 74.21875  Q 44.046875 74.21875 50.515625 64.515625  Q 56.984375 54.828125 56.984375 36.375  Q 56.984375 17.96875 50.515625 8.265625  Q 44.046875 -1.421875 31.78125 -1.421875  Q 19.53125 -1.421875 13.0625 8.265625  Q 6.59375 17.96875 6.59375 36.375  Q 6.59375 54.828125 13.0625 64.515625  Q 19.53125 74.21875 31.78125 74.21875  z " id="DejaVuSans-48"></path>
      </defs>
      <g transform="translate(46.888611 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-48"></use>
      </g>
     </g>
    </g>
    <g id="xtick_2">
     <g id="line2d_2">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="84.821927" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_2">

      <defs>
       <path d="M 12.40625 8.296875  L 28.515625 8.296875  L 28.515625 63.921875  L 10.984375 60.40625  L 10.984375 69.390625  L 28.421875 72.90625  L 38.28125 72.90625  L 38.28125 8.296875  L 54.390625 8.296875  L 54.390625 0  L 12.40625 0  z " id="DejaVuSans-49"></path>
      </defs>
      <g transform="translate(81.640677 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-49"></use>
      </g>
     </g>
    </g>
    <g id="xtick_3">
     <g id="line2d_3">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="119.573993" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_3">

      <defs>
       <path d="M 19.1875 8.296875  L 53.609375 8.296875  L 53.609375 0  L 7.328125 0  L 7.328125 8.296875  Q 12.9375 14.109375 22.625 23.890625  Q 32.328125 33.6875 34.8125 36.53125  Q 39.546875 41.84375 41.421875 45.53125  Q 43.3125 49.21875 43.3125 52.78125  Q 43.3125 58.59375 39.234375 62.25  Q 35.15625 65.921875 28.609375 65.921875  Q 23.96875 65.921875 18.8125 64.3125  Q 13.671875 62.703125 7.8125 59.421875  L 7.8125 69.390625  Q 13.765625 71.78125 18.9375 73  Q 24.125 74.21875 28.421875 74.21875  Q 39.75 74.21875 46.484375 68.546875  Q 53.21875 62.890625 53.21875 53.421875  Q 53.21875 48.921875 51.53125 44.890625  Q 49.859375 40.875 45.40625 35.40625  Q 44.1875 33.984375 37.640625 27.21875  Q 31.109375 20.453125 19.1875 8.296875  z " id="DejaVuSans-50"></path>
      </defs>
      <g transform="translate(116.392743 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-50"></use>
      </g>
     </g>
    </g>
    <g id="xtick_4">
     <g id="line2d_4">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="154.326059" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_4">

      <defs>
       <path d="M 40.578125 39.3125  Q 47.65625 37.796875 51.625 33  Q 55.609375 28.21875 55.609375 21.1875  Q 55.609375 10.40625 48.1875 4.484375  Q 40.765625 -1.421875 27.09375 -1.421875  Q 22.515625 -1.421875 17.65625 -0.515625  Q 12.796875 0.390625 7.625 2.203125  L 7.625 11.71875  Q 11.71875 9.328125 16.59375 8.109375  Q 21.484375 6.890625 26.8125 6.890625  Q 36.078125 6.890625 40.9375 10.546875  Q 45.796875 14.203125 45.796875 21.1875  Q 45.796875 27.640625 41.28125 31.265625  Q 36.765625 34.90625 28.71875 34.90625  L 20.21875 34.90625  L 20.21875 43.015625  L 29.109375 43.015625  Q 36.375 43.015625 40.234375 45.921875  Q 44.09375 48.828125 44.09375 54.296875  Q 44.09375 59.90625 40.109375 62.90625  Q 36.140625 65.921875 28.71875 65.921875  Q 24.65625 65.921875 20.015625 65.03125  Q 15.375 64.15625 9.8125 62.3125  L 9.8125 71.09375  Q 15.4375 72.65625 20.34375 73.4375  Q 25.25 74.21875 29.59375 74.21875  Q 40.828125 74.21875 47.359375 69.109375  Q 53.90625 64.015625 53.90625 55.328125  Q 53.90625 49.265625 50.4375 45.09375  Q 46.96875 40.921875 40.578125 39.3125  z " id="DejaVuSans-51"></path>
      </defs>
      <g transform="translate(151.144809 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-51"></use>
      </g>
     </g>
    </g>
    <g id="xtick_5">
     <g id="line2d_5">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="189.078125" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_5">

      <defs>
       <path d="M 37.796875 64.3125  L 12.890625 25.390625  L 37.796875 25.390625  z M 35.203125 72.90625  L 47.609375 72.90625  L 47.609375 25.390625  L 58.015625 25.390625  L 58.015625 17.1875  L 47.609375 17.1875  L 47.609375 0  L 37.796875 0  L 37.796875 17.1875  L 4.890625 17.1875  L 4.890625 26.703125  z " id="DejaVuSans-52"></path>
      </defs>
      <g transform="translate(185.896875 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-52"></use>
      </g>
     </g>
    </g>
    <g id="xtick_6">
     <g id="line2d_6">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="223.830191" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_6">

      <defs>
       <path d="M 10.796875 72.90625  L 49.515625 72.90625  L 49.515625 64.59375  L 19.828125 64.59375  L 19.828125 46.734375  Q 21.96875 47.46875 24.109375 47.828125  Q 26.265625 48.1875 28.421875 48.1875  Q 40.625 48.1875 47.75 41.5  Q 54.890625 34.8125 54.890625 23.390625  Q 54.890625 11.625 47.5625 5.09375  Q 40.234375 -1.421875 26.90625 -1.421875  Q 22.3125 -1.421875 17.546875 -0.640625  Q 12.796875 0.140625 7.71875 1.703125  L 7.71875 11.625  Q 12.109375 9.234375 16.796875 8.0625  Q 21.484375 6.890625 26.703125 6.890625  Q 35.15625 6.890625 40.078125 11.328125  Q 45.015625 15.765625 45.015625 23.390625  Q 45.015625 31 40.078125 35.4375  Q 35.15625 39.890625 26.703125 39.890625  Q 22.75 39.890625 18.8125 39.015625  Q 14.890625 38.140625 10.796875 36.28125  z " id="DejaVuSans-53"></path>
      </defs>
      <g transform="translate(220.648941 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-53"></use>
      </g>
     </g>
    </g>
    <g id="xtick_7">
     <g id="line2d_7">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="258.582257" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_7">

      <defs>
       <path d="M 33.015625 40.375  Q 26.375 40.375 22.484375 35.828125  Q 18.609375 31.296875 18.609375 23.390625  Q 18.609375 15.53125 22.484375 10.953125  Q 26.375 6.390625 33.015625 6.390625  Q 39.65625 6.390625 43.53125 10.953125  Q 47.40625 15.53125 47.40625 23.390625  Q 47.40625 31.296875 43.53125 35.828125  Q 39.65625 40.375 33.015625 40.375  z M 52.59375 71.296875  L 52.59375 62.3125  Q 48.875 64.0625 45.09375 64.984375  Q 41.3125 65.921875 37.59375 65.921875  Q 27.828125 65.921875 22.671875 59.328125  Q 17.53125 52.734375 16.796875 39.40625  Q 19.671875 43.65625 24.015625 45.921875  Q 28.375 48.1875 33.59375 48.1875  Q 44.578125 48.1875 50.953125 41.515625  Q 57.328125 34.859375 57.328125 23.390625  Q 57.328125 12.15625 50.6875 5.359375  Q 44.046875 -1.421875 33.015625 -1.421875  Q 20.359375 -1.421875 13.671875 8.265625  Q 6.984375 17.96875 6.984375 36.375  Q 6.984375 53.65625 15.1875 63.9375  Q 23.390625 74.21875 37.203125 74.21875  Q 40.921875 74.21875 44.703125 73.484375  Q 48.484375 72.75 52.59375 71.296875  z " id="DejaVuSans-54"></path>
      </defs>
      <g transform="translate(255.401007 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-54"></use>
      </g>
     </g>
    </g>
    <g id="xtick_8">
     <g id="line2d_8">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="293.334323" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_8">

      <defs>
       <path d="M 8.203125 72.90625  L 55.078125 72.90625  L 55.078125 68.703125  L 28.609375 0  L 18.3125 0  L 43.21875 64.59375  L 8.203125 64.59375  z " id="DejaVuSans-55"></path>
      </defs>
      <g transform="translate(290.153073 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-55"></use>
      </g>
     </g>
    </g>
    <g id="xtick_9">
     <g id="line2d_9">
      <g>
       <use style="stroke:#000000;stroke-width:0.8;" x="328.086389" y="83.457143" xlink:href="#m5a1459fcec"></use>
      </g>
     </g>
     <g id="text_9">

      <defs>
       <path d="M 31.78125 34.625  Q 24.75 34.625 20.71875 30.859375  Q 16.703125 27.09375 16.703125 20.515625  Q 16.703125 13.921875 20.71875 10.15625  Q 24.75 6.390625 31.78125 6.390625  Q 38.8125 6.390625 42.859375 10.171875  Q 46.921875 13.96875 46.921875 20.515625  Q 46.921875 27.09375 42.890625 30.859375  Q 38.875 34.625 31.78125 34.625  z M 21.921875 38.8125  Q 15.578125 40.375 12.03125 44.71875  Q 8.5 49.078125 8.5 55.328125  Q 8.5 64.0625 14.71875 69.140625  Q 20.953125 74.21875 31.78125 74.21875  Q 42.671875 74.21875 48.875 69.140625  Q 55.078125 64.0625 55.078125 55.328125  Q 55.078125 49.078125 51.53125 44.71875  Q 48 40.375 41.703125 38.8125  Q 48.828125 37.15625 52.796875 32.3125  Q 56.78125 27.484375 56.78125 20.515625  Q 56.78125 9.90625 50.3125 4.234375  Q 43.84375 -1.421875 31.78125 -1.421875  Q 19.734375 -1.421875 13.25 4.234375  Q 6.78125 9.90625 6.78125 20.515625  Q 6.78125 27.484375 10.78125 32.3125  Q 14.796875 37.15625 21.921875 38.8125  z M 18.3125 54.390625  Q 18.3125 48.734375 21.84375 45.5625  Q 25.390625 42.390625 31.78125 42.390625  Q 38.140625 42.390625 41.71875 45.5625  Q 45.3125 48.734375 45.3125 54.390625  Q 45.3125 60.0625 41.71875 63.234375  Q 38.140625 66.40625 31.78125 66.40625  Q 25.390625 66.40625 21.84375 63.234375  Q 18.3125 60.0625 18.3125 54.390625  z " id="DejaVuSans-56"></path>
      </defs>
      <g transform="translate(324.905139 98.05558)scale(0.1 -0.1)">
       <use xlink:href="#DejaVuSans-56"></use>
      </g>
     </g>
    </g>
   </g>
   <g id="matplotlib.axis_2">
    <g id="text_10">

     <defs>
      <path d="M 9.8125 72.90625  L 51.703125 72.90625  L 51.703125 64.59375  L 19.671875 64.59375  L 19.671875 43.109375  L 48.578125 43.109375  L 48.578125 34.8125  L 19.671875 34.8125  L 19.671875 0  L 9.8125 0  z " id="DejaVuSans-70"></path>
      <path d="M 41.109375 46.296875  Q 39.59375 47.171875 37.8125 47.578125  Q 36.03125 48 33.890625 48  Q 26.265625 48 22.1875 43.046875  Q 18.109375 38.09375 18.109375 28.8125  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 20.953125 51.171875 25.484375 53.578125  Q 30.03125 56 36.53125 56  Q 37.453125 56 38.578125 55.875  Q 39.703125 55.765625 41.0625 55.515625  z " id="DejaVuSans-114"></path>
      <path d="M 56.203125 29.59375  L 56.203125 25.203125  L 14.890625 25.203125  Q 15.484375 15.921875 20.484375 11.0625  Q 25.484375 6.203125 34.421875 6.203125  Q 39.59375 6.203125 44.453125 7.46875  Q 49.3125 8.734375 54.109375 11.28125  L 54.109375 2.78125  Q 49.265625 0.734375 44.1875 -0.34375  Q 39.109375 -1.421875 33.890625 -1.421875  Q 20.796875 -1.421875 13.15625 6.1875  Q 5.515625 13.8125 5.515625 26.8125  Q 5.515625 40.234375 12.765625 48.109375  Q 20.015625 56 32.328125 56  Q 43.359375 56 49.78125 48.890625  Q 56.203125 41.796875 56.203125 29.59375  z M 47.21875 32.234375  Q 47.125 39.59375 43.09375 43.984375  Q 39.0625 48.390625 32.421875 48.390625  Q 24.90625 48.390625 20.390625 44.140625  Q 15.875 39.890625 15.1875 32.171875  z " id="DejaVuSans-101"></path>
      <path d="M 14.796875 27.296875  Q 14.796875 17.390625 18.875 11.75  Q 22.953125 6.109375 30.078125 6.109375  Q 37.203125 6.109375 41.296875 11.75  Q 45.40625 17.390625 45.40625 27.296875  Q 45.40625 37.203125 41.296875 42.84375  Q 37.203125 48.484375 30.078125 48.484375  Q 22.953125 48.484375 18.875 42.84375  Q 14.796875 37.203125 14.796875 27.296875  z M 45.40625 8.203125  Q 42.578125 3.328125 38.25 0.953125  Q 33.9375 -1.421875 27.875 -1.421875  Q 17.96875 -1.421875 11.734375 6.484375  Q 5.515625 14.40625 5.515625 27.296875  Q 5.515625 40.1875 11.734375 48.09375  Q 17.96875 56 27.875 56  Q 33.9375 56 38.25 53.625  Q 42.578125 51.265625 45.40625 46.390625  L 45.40625 54.6875  L 54.390625 54.6875  L 54.390625 -20.796875  L 45.40625 -20.796875  z " id="DejaVuSans-113"></path>
      <path d="M 8.5 21.578125  L 8.5 54.6875  L 17.484375 54.6875  L 17.484375 21.921875  Q 17.484375 14.15625 20.5 10.265625  Q 23.53125 6.390625 29.59375 6.390625  Q 36.859375 6.390625 41.078125 11.03125  Q 45.3125 15.671875 45.3125 23.6875  L 45.3125 54.6875  L 54.296875 54.6875  L 54.296875 0  L 45.3125 0  L 45.3125 8.40625  Q 42.046875 3.421875 37.71875 1  Q 33.40625 -1.421875 27.6875 -1.421875  Q 18.265625 -1.421875 13.375 4.4375  Q 8.5 10.296875 8.5 21.578125  z M 31.109375 56  z " id="DejaVuSans-117"></path>
      <path d="M 54.890625 33.015625  L 54.890625 0  L 45.90625 0  L 45.90625 32.71875  Q 45.90625 40.484375 42.875 44.328125  Q 39.84375 48.1875 33.796875 48.1875  Q 26.515625 48.1875 22.3125 43.546875  Q 18.109375 38.921875 18.109375 30.90625  L 18.109375 0  L 9.078125 0  L 9.078125 54.6875  L 18.109375 54.6875  L 18.109375 46.1875  Q 21.34375 51.125 25.703125 53.5625  Q 30.078125 56 35.796875 56  Q 45.21875 56 50.046875 50.171875  Q 54.890625 44.34375 54.890625 33.015625  z " id="DejaVuSans-110"></path>
      <path d="M 48.78125 52.59375  L 48.78125 44.1875  Q 44.96875 46.296875 41.140625 47.34375  Q 37.3125 48.390625 33.40625 48.390625  Q 24.65625 48.390625 19.8125 42.84375  Q 14.984375 37.3125 14.984375 27.296875  Q 14.984375 17.28125 19.8125 11.734375  Q 24.65625 6.203125 33.40625 6.203125  Q 37.3125 6.203125 41.140625 7.25  Q 44.96875 8.296875 48.78125 10.40625  L 48.78125 2.09375  Q 45.015625 0.34375 40.984375 -0.53125  Q 36.96875 -1.421875 32.421875 -1.421875  Q 20.0625 -1.421875 12.78125 6.34375  Q 5.515625 14.109375 5.515625 27.296875  Q 5.515625 40.671875 12.859375 48.328125  Q 20.21875 56 33.015625 56  Q 37.15625 56 41.109375 55.140625  Q 45.0625 54.296875 48.78125 52.59375  z " id="DejaVuSans-99"></path>
      <path d="M 32.171875 -5.078125  Q 28.375 -14.84375 24.75 -17.8125  Q 21.140625 -20.796875 15.09375 -20.796875  L 7.90625 -20.796875  L 7.90625 -13.28125  L 13.1875 -13.28125  Q 16.890625 -13.28125 18.9375 -11.515625  Q 21 -9.765625 23.484375 -3.21875  L 25.09375 0.875  L 2.984375 54.6875  L 12.5 54.6875  L 29.59375 11.921875  L 46.6875 54.6875  L 56.203125 54.6875  z " id="DejaVuSans-121"></path>
     </defs>
     <g transform="translate(14.798438 71.626228)rotate(-90)scale(0.1 -0.1)">
      <use xlink:href="#DejaVuSans-70"></use>
      <use x="57.410156" xlink:href="#DejaVuSans-114"></use>
      <use x="98.492188" xlink:href="#DejaVuSans-101"></use>
      <use x="160.015625" xlink:href="#DejaVuSans-113"></use>
      <use x="223.492188" xlink:href="#DejaVuSans-117"></use>
      <use x="286.871094" xlink:href="#DejaVuSans-101"></use>
      <use x="348.394531" xlink:href="#DejaVuSans-110"></use>
      <use x="411.773438" xlink:href="#DejaVuSans-99"></use>
      <use x="466.753906" xlink:href="#DejaVuSans-121"></use>
     </g>
    </g>
   </g>
   <g id="patch_12">
    <path d="M 20.878125 83.457143  L 20.878125 7.2  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_13">
    <path d="M 357.278125 83.457143  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
   <g id="patch_14">
    <path d="M 20.878125 83.457143  L 357.278125 83.457143  " style="fill:none;stroke:#000000;stroke-linecap:square;stroke-linejoin:miter;stroke-width:0.8;"></path>
   </g>
   <g id="patch_15">
    <path d="M 20.878125 7.2  L 357.278125 7.2  " style="fill:none;"></path>
   </g>
  </g>
 </g>
 <defs>
  <clipPath id="p61578956eb">
   <rect height="76.257143" width="336.4" x="20.878125" y="7.2"></rect>
  </clipPath>
 </defs>
</svg></div></td></tr><tr><td>mean</td><td style="text-align:left;">1.4788</td></tr><tr><td>stdev</td><td style="text-align:left;">1.0516418401718335</td></tr><tr><td>zeros</td><td style="text-align:left;">729</td></tr><tr><td>positives</td><td style="text-align:left;">4271</td></tr><tr><td>negatives</td><td style="text-align:left;">0</td></tr><tr><td>nonzero_minimum</td><td style="text-align:left;">1</td></tr><tr><td>nonzero_maximum</td><td style="text-align:left;">8</td></tr><tr><td>nonzero_mean</td><td style="text-align:left;">1.7312104893467573</td></tr><tr><td>nonzero_stdev</td><td style="text-align:left;">0.9261453313852304</td></tr></table></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[99]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">PER</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 12349 entries, 60000 to 72348
Data columns (total 14 columns):
 #   Column         Non-Null Count  Dtype
---  ------         --------------  -----
 0   PERSONID       12349 non-null  int64
 1   HHID           12349 non-null  int64
 2   HHIDX          12349 non-null  int64
 3   AGE            12349 non-null  int64
 4   WORKS          12349 non-null  int64
 5   N_VEHICLES     12349 non-null  int64
 6   INCOME         12349 non-null  float64
 7   N_WORK_TOURS   12349 non-null  int64
 8   N_OTHER_TOURS  12349 non-null  int64
 9   N_TOURS        12349 non-null  int64
 10  N_TRIPS        12349 non-null  int64
 11  N_TRIPS_HBW    12349 non-null  int64
 12  N_TRIPS_HBO    12349 non-null  int64
 13  N_TRIPS_NHB    12349 non-null  int64
dtypes: float64(1), int64(13)
memory usage: 1.4 MB
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[100]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">w</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram2d</span><span class="p">(</span>
    <span class="n">PER</span><span class="o">.</span><span class="n">N_VEHICLES</span><span class="p">,</span>
    <span class="n">PER</span><span class="o">.</span><span class="n">N_WORK_TOURS</span><span class="p">,</span>
    <span class="n">bins</span><span class="o">=</span><span class="p">[</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">16</span><span class="p">],</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[101]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ww</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
        <span class="n">w</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">f</span><span class="s2">&quot;{i}&quot;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">b2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">:])],</span>
    <span class="p">)</span>

<span class="n">ww</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">ww</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[101]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>12</th>
      <th>14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.556334</td>
      <td>0.432884</td>
      <td>0.007547</td>
      <td>0.003235</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.506141</td>
      <td>0.428545</td>
      <td>0.049311</td>
      <td>0.016003</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.494772</td>
      <td>0.388196</td>
      <td>0.103204</td>
      <td>0.013828</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.447873</td>
      <td>0.344454</td>
      <td>0.178482</td>
      <td>0.029191</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.465909</td>
      <td>0.278409</td>
      <td>0.210227</td>
      <td>0.045455</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.451883</td>
      <td>0.284519</td>
      <td>0.230126</td>
      <td>0.033473</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.475000</td>
      <td>0.266667</td>
      <td>0.191667</td>
      <td>0.066667</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[102]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
        <span class="n">w</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">f</span><span class="s2">&quot;{i}&quot;</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">b2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">b2</span><span class="p">[</span><span class="mi">1</span><span class="p">:])],</span>
    <span class="p">),</span>
    <span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0f&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[102]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb020b79e50&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/example_x-299_exampville-data-creator_114_1.png" src="../_images/example_x-299_exampville-data-creator_114_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[103]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_means</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HOMETAZ&#39;</span><span class="p">)[[</span><span class="s1">&#39;INCOME&#39;</span><span class="p">,</span> <span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span> <span class="s1">&#39;HHSIZE&#39;</span><span class="p">,</span>
       <span class="s1">&#39;N_TRIPS&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">,</span>
       <span class="s1">&#39;N_WORKERS&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="s1">&#39;MEAN_&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[104]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_sums</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HOMETAZ&#39;</span><span class="p">)[[</span><span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span> <span class="s1">&#39;HHSIZE&#39;</span><span class="p">,</span>
       <span class="s1">&#39;N_TRIPS&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">,</span> <span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">,</span>
       <span class="s1">&#39;N_WORKERS&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[105]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hh_sums</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;HHSIZE&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_POP&quot;</span><span class="p">,</span>
    <span class="s1">&#39;N_WORKERS&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_WORKERS&quot;</span><span class="p">,</span>
    <span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_VEHICLES&quot;</span><span class="p">,</span>
    <span class="s1">&#39;N_TRIPS&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_TRIPS&quot;</span><span class="p">,</span>
    <span class="s1">&#39;N_TRIPS_HBW&#39;</span><span class="p">:</span><span class="s1">&#39;TOTAL_TRIPS_HBW&#39;</span><span class="p">,</span>
    <span class="s1">&#39;N_TRIPS_HBO&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_TRIPS_HBO&quot;</span><span class="p">,</span>
    <span class="s1">&#39;N_TRIPS_NHB&#39;</span><span class="p">:</span><span class="s2">&quot;TOTAL_TRIPS_NHB&quot;</span><span class="p">,</span>
<span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[106]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_agg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">hh_means</span><span class="p">,</span> <span class="n">hh_sums</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[107]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_agg</span><span class="p">[</span><span class="s1">&#39;N_HOUSEHOLDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">HH</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HOMETAZ&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[108]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">taz_agg</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;TAZ&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[109]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Drop income and n_veh from persons, they are hh attributes for our demos</span>

<span class="n">PER</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;N_VEHICLES&#39;</span><span class="p">,</span><span class="s1">&#39;INCOME&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Save">
<h2>Save<a class="headerlink" href="#Save" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[110]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">HH</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">hh</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">PER</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">person</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">f_tour</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">tour</span><span class="p">)</span>
<span class="n">taz_agg</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">demographics</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[111]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">larch</span><span class="o">.</span><span class="n">exampville</span><span class="o">.</span><span class="n">_files</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">demographics</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[111]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;../../data_warehouse/exampville_demographics.csv.gz&#39;
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[112]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[112]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;/Users/jeffnewman/Git/larch/larch/doc/example&#39;
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {}, "version_major": 2, "version_minor": 0}
</script></div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2019, Jeffrey Newman
      <span class="lastupdated">
        Last updated on Jun 05, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>