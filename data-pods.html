

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pods &mdash; Larch 5.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/larch_favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/larch_rtfd.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Larch
          

          
          </a>

          
            
            
              <div class="version">
                5.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="math.html">Mathematics of Logit Choice Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine-learning/index.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="example/examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Larch</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Pods</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/data-pods.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="pods">
<h1>Pods<a class="headerlink" href="#pods" title="Permalink to this headline">¶</a></h1>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">DataService</span></code> is essentially a collection of one or more separate but related
data <a class="reference internal" href="#larch.data_services.Pod" title="larch.data_services.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a>.  Each pod can contain multiple data elements, stored in a variety of
formats. <a class="reference internal" href="#larch.data_services.Pod" title="larch.data_services.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a> are roughly grouped into two families: those that provide <a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a>
data, and those that provide <a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> data.  The abstract base class <a class="reference internal" href="#larch.data_services.Pod" title="larch.data_services.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a>
provides some basic common functionality and defines a consistent interface.</p>
<dl class="class">
<dt id="larch.data_services.Pod">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">Pod</code><span class="sig-paren">(</span><em>ident=None</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.Pod" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the abstract base class for Pods.</p>
<dl class="method">
<dt id="larch.data_services.Pod.get_data_item">
<code class="descname">get_data_item</code><span class="sig-paren">(</span><em>name</em>, <em>selector=None</em>, <em>dtype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.Pod.get_data_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data in a new array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier for the data that will be loaded. This can be
the natural name of a data item in this pod, or some expression
that can be evaluated. The exact form of allowable expressions is
dependent on the particular Pod implementation.</li>
<li><strong>selector</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#slice" title="(in Python v3.7)"><em>slice</em></a><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – This will slice the first dimension (cases) of the result.
There may be a performace hit for using slices.</li>
<li><strong>dtype</strong> (<em>dtype</em><em>, </em><em>optional</em>) – The dtype for the array to return. If the dtype is not given and not
inferable from the data itself, float64 will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> – This is the array (typically a slice of an array)
into which the data has beem loaded.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">ndarray</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#NameError" title="(in Python v3.7)"><strong>NameError</strong></a> – This pod cannot independently resolve the given name.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="larch.data_services.Pod.load_data_item">
<code class="descname">load_data_item</code><span class="sig-paren">(</span><em>name</em>, <em>result</em>, <em>selector=None</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.Pod.load_data_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data into an existing array.</p>
<p>The existing array must be the correct shape to receive the data. Errors can
occur if the existing array is the incorrect shape.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The identifier for the data that will be loaded. This can be
the natural name of a data item in this pod, or some expression
that can be evaluated. The exact form of allowable expressions is
dependent on the particular Pod implementation.</li>
<li><strong>result</strong> (<em>ndarray</em>) – This is the array (typically a slice of an array)
into which the data will be loaded. It must be given and it
must be the correct shape.</li>
<li><strong>selector</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#slice" title="(in Python v3.7)"><em>slice</em></a><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – This will slice the first dimension (cases) of the result.
There may be a performace hit for using slices.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.7/library/exceptions.html#NameError" title="(in Python v3.7)"><strong>NameError</strong></a> – This pod cannot independently resolve the given name.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="larch.data_services.Pod.names">
<code class="descname">names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.Pod.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Natural names of data items available in this pod</p>
</dd></dl>

<dl class="method">
<dt id="larch.data_services.Pod.nameset">
<code class="descname">nameset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.Pod.nameset" title="Permalink to this definition">¶</a></dt>
<dd><p>Natural names of data items available in this pod, as a set</p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.shape">
<code class="descname">shape</code><a class="headerlink" href="#larch.data_services.Pod.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of a full data item available in this pod</p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.dims">
<code class="descname">dims</code><a class="headerlink" href="#larch.data_services.Pod.dims" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of dimensions in a full data item</p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.n_cases">
<code class="descname">n_cases</code><a class="headerlink" href="#larch.data_services.Pod.n_cases" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the first dimension in a full data item</p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.ident">
<code class="descname">ident</code><a class="headerlink" href="#larch.data_services.Pod.ident" title="Permalink to this definition">¶</a></dt>
<dd><p>An identifier for this pod, typically a <cite>str</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.durable_mask">
<code class="descname">durable_mask</code><a class="headerlink" href="#larch.data_services.Pod.durable_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>A mask identifier for this pod, used to optimize reloading data</p>
</dd></dl>

<dl class="attribute">
<dt id="larch.data_services.Pod.filename">
<code class="descname">filename</code><a class="headerlink" href="#larch.data_services.Pod.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename of the underlying file (read-only)</p>
</dd></dl>

</dd></dl>

<p>Creating a <a class="reference internal" href="#larch.data_services.Pod" title="larch.data_services.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a> requires a particular subclass to instantiate.</p>
<div class="section" id="idco-pods">
<h2><a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a> Pods<a class="headerlink" href="#idco-pods" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="larch.data_services.H5PodCO">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">H5PodCO</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.H5PodCO" title="Permalink to this definition">¶</a></dt>
<dd><p>A HDF5 group node containing <a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a> format data.</p>
<p>The CO pod is the most basic H5Pod. It includes a selection of data columns, where
each column is a vector of values attributable to casewise observations.  The ordering
of the data is important, and all data columns in an H5PodCO must have the same length
and be ordered the same way, so that any group of columns can be simply concantenated to
create a 2-d <a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a> array of data.</p>
</dd></dl>

<dl class="class">
<dt id="larch.data_services.H5PodCS">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">H5PodCS</code><span class="sig-paren">(</span><em>podgroup</em>, <em>storage=None</em>, <em>ident=None</em>, <em>alts=None</em>, <em>shape=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.H5PodCS" title="Permalink to this definition">¶</a></dt>
<dd><p>A HDF5 group node containing implicit <a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> format data created by stacking <a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a> data.</p>
<p>The CA pod is includes a selection of data arrays, where
each array has rows of values attributable to casewise observations, and columns attributable to
individual choice alternatives.  The ordering
of the data is important, and all arrays in an H5PodCA must have the same shape
and be ordered the same way, so that any group of arrays can be simply concantenated to
create a 3-d <a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> array of data.  The same applies for multiple H5PodCA’s that are
associated together in a single H5Data object.</p>
</dd></dl>

<dl class="class">
<dt id="larch.data_services.H5PodRC">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">H5PodRC</code><span class="sig-paren">(</span><em>rowindexes</em>, <em>colindexes</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.H5PodRC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="idca-pods">
<h2><a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> Pods<a class="headerlink" href="#idca-pods" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="larch.data_services.H5PodCA">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">H5PodCA</code><span class="sig-paren">(</span><em>filename=None</em>, <em>mode='a'</em>, <em>groupnode=None</em>, <em>*</em>, <em>h5f=None</em>, <em>inmemory=False</em>, <em>temp=False</em>, <em>complevel=1</em>, <em>complib='zlib'</em>, <em>ident=None</em>, <em>do_nothing=False</em>, <em>reshape=None</em>, <em>rename_vars=None</em>, <em>shape=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.H5PodCA" title="Permalink to this definition">¶</a></dt>
<dd><p>A HDF5 group node containing <a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> format data.</p>
<p>The CA pod is includes a selection of data arrays, where
each array has rows of values attributable to casewise observations, and columns attributable to
individual choice alternatives.  The ordering
of the data is important, and all arrays in an H5PodCA must have the same shape
and be ordered the same way, so that any group of arrays can be simply concantenated to
create a 3-d <a class="reference internal" href="data-fundamentals.html#idca"><span class="std std-ref">idca Format</span></a> array of data.  The same applies for multiple H5PodCA’s that are
associated together in a single H5Data object.</p>
</dd></dl>

<dl class="class">
<dt id="larch.data_services.H5PodGA">
<em class="property">class </em><code class="descclassname">larch.data_services.</code><code class="descname">H5PodGA</code><span class="sig-paren">(</span><em>filename</em>, <em>rowindexes</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#larch.data_services.H5PodGA" title="Permalink to this definition">¶</a></dt>
<dd><p>A HDF5 group node containing <span class="xref std std-ref">idga</span> format data.</p>
<p>The GA pod is conceptually similar to the CA pod, although cases are included
by a lookup key instead of individually.  Each array of data is stored as an array, where
each array has rows of values attributable to arbitrary groups of casewise observations,
and columns attributable to individual choice alternatives.  The common use case is an OMX
matrix file containing skims, where the case-wise observations each pull a single row
from the skims.</p>
<p>The H5PodGA has one special attribute , naming the row-index to use for each case.  This
name must exist in <a class="reference internal" href="data-fundamentals.html#idco"><span class="std std-ref">idco Format</span></a> data.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2019, Jeffrey Newman
      <span class="lastupdated">
        Last updated on Nov 25, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>